ç ”ç©¶ç¯å¢ƒ/å®ç›˜

[](/)
- é¦–é¡µ

- æˆ‘çš„ç­–ç•¥ç­–ç•¥åˆ›ä½œç­–ç•¥ç ”ç©¶æŒ‡æ ‡ç­–ç•¥ç­–ç•¥ç›‘æ§ç­–ç•¥åº“å› å­ç ”ç©¶å› å­ç­–ç•¥å› å­æ£€æµ‹å› å­åº“ç»©æ•ˆåˆ†æ

- æˆ‘çš„ç ”ç©¶

- å®ç›˜äº¤æ˜“pythonç­–ç•¥æ¨¡æ‹ŸæŒ‡æ ‡ç­–ç•¥æ¨¡æ‹ŸåŒèŠ±é¡ºæ™ºèƒ½äº¤æ˜“

- ç¤¾åŒº

- å¸®åŠ©æœ¬åœ°SDKAPI æ–‡æ¡£å› å­ç ”ç©¶æ¨¡æ‹Ÿä»¿çœŸå›æµ‹å¼•æ“ç ”ç©¶ç¯å¢ƒ/å®ç›˜å¸¸è§é—®é¢˜å› å­æ•°æ®äº§å“æ™ºèƒ½äº¤æ˜“åœ¨çº¿æ–‡æ¡£

- æ•°æ®
 å…¨å±€æœç´¢ [ç™»å½•](javascript:window.LoginInstance.show())[æ³¨å†Œ](//upass.10jqka.com.cn/register)ç ”ç©¶ç¯å¢ƒ/å®ç›˜
- ç¤¾åŒºäº¤æµ

- ç ”ç©¶ç¯å¢ƒçš„æœ¬è´¨

- Supermindæ”¯æŒå®ç›˜è¿è¡Œã€é‡è¦ï¼ï¼ã€‘å†™åœ¨æœ€å‰é¢ã€é‡ç£…æ›´æ–°ã€‘å›æµ‹ä»£ç ç›´æ¥å®ç›˜äº¤æ˜“ åªéœ€ä¸€åˆ†é’Ÿï¼1ã€èƒŒæ™¯ä¸ç›®çš„2ã€ç­–ç•¥å®ç›˜äº¤æ˜“ï¼ˆå›æµ‹ä»£ç 1åˆ†é’Ÿå®ç›˜ï¼‰3ã€å…¶ä»–æ›´æ–°è¿™æ¬¡è¿˜å¢åŠ äº†å‡ ä¸ªåŠŸèƒ½SuperMind 1åˆ†é’Ÿå¿«é€Ÿå®ç›˜ å…¥é—¨æ•™ç¨‹1ã€ç¡®ä¿å…ˆä¸‹è½½å¥½ç»ˆç«¯ å¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬2ã€ç”¨åŒèŠ±é¡ºè´¦å·è¿›è¡Œç™»å½•è½¯ä»¶3ã€ç‚¹å‡»ä¸‹æ–¹â€œç ”ç©¶ä¸€ä¸‹â€æŒ‰é’®ï¼š4ã€æ‰“å¼€å®¢æˆ·ç«¯çš„ç ”ç©¶ç¯å¢ƒ ç›´æ¥å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ è¿›è¡ŒæŒ‰ç…§æç¤ºè¿›è¡Œè¿è¡Œäº†4.1ã€è¿›å…¥å®¢æˆ·ç«¯é¦–é¡µè·å–èµ„é‡‘è´¦å·ï¼š4.2ã€æŠŠç­–ç•¥å¯¹åº”çš„èµ„é‡‘è´¦å·å¡«å†™åˆ° TradeAPIçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­æŠŠç­–ç•¥å¯¹åº”çš„èµ„é‡‘è´¦å·å¡«å†™åˆ° TradeAPIçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­4.3ã€é€‰ä¸­ä¸‹æ–¹çš„ä»£ç å•å…ƒæ ¼ä¹‹åï¼Œç‚¹å‡»ä¸Šæ–¹ä¸‰è§’å½¢ â–¶ æŒ‰é’®å¯åŠ¨ç­–ç•¥ï¼šä»¿çœŸ/å®ç›˜ä¸å›æµ‹çš„å·®å¼‚ä»¥åŠè§£å†³æ–¹æ¡ˆå›æµ‹(æ¨¡æ‹Ÿ)ä¸ä»¿çœŸæŸœå°çš„åŒºåˆ«?ï¸å¯èƒ½å¯¼è‡´çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ?ï¸é—®é¢˜ä¸€ï¼šèµ„é‡‘è´¦å·å†…æœ‰åˆå§‹æŒä»“é—®é¢˜äºŒï¼šå®ç›˜ä¸­å§”æ‰˜é€šå¸¸ä¸ä¼šç«‹å³æˆäº¤é—®é¢˜ä¸‰ï¼šåˆ¸å•†/ä»¿çœŸæŸœå°è¿”å›çš„æŒä»“æ•°æ®ä¸­æ²¡æœ‰position_daysæ•°æ®é—®é¢˜å››ï¼šç­–ç•¥å¤–äº¤æ˜“ä¼šå½±å“ç­–ç•¥å†…é—®é¢˜äº”/é—®é¢˜å…­ï¼šå®ç›˜ä¸­éœ€è¦è€ƒè™‘æ›´å¤æ‚çš„åœºæ™¯é—®é¢˜ä¸ƒï¼šå®ç°ç§’çº§åˆ«é¢‘ç‡çš„ç­–ç•¥äº¤æ˜“æ€»ç»“æ¯ä¸ªè´¦å·å®ç›˜å¯ä»¥å¼€å‡ ä¸ªç­–ç•¥ï¼Ÿå®ç›˜æ³¨æ„å¿…é¡»å¼€ç€å®¢æˆ·ç«¯ å¹¶ç¡®ä¿ç ”ç©¶ç¯å¢ƒæ­£å¸¸è¿è¡Œ

- å†…ç½®æ¥å£æ•°æ®æ¥å£ä»¿çœŸäº¤æ˜“æ¥å£ - TradeAPIå‡†å¤‡å·¥ä½œè´¦æˆ·ä¿¡æ¯æŸ¥è¯¢ä¸‹å•ä¸æ’¤å•æœ€æ–°ä»·ä¸‹å•é™ä»·å•æ™ºèƒ½ä¸‹å•æ’¤å•æŸ¥è¯¢æˆäº¤å§”æ‰˜æŸ¥è¯¢SuperMindåå°å§”æ‰˜è®°å½•å§”æ‰˜æˆäº¤æ¨é€å›è°ƒç®—æ³•äº¤æ˜“è‡ªåŠ¨æ’¤è¿½å•ç¯®å­äº¤æ˜“TWAPç®—æ³•VWAPç®—æ³•å†°å±±ç®—æ³•èèµ„èåˆ¸äº¤æ˜“å¯¼å…¥åŒ…ï¼Œå»ºç«‹è¿æ¥è´¦å·å„ç±»èµ„äº§åŠå§”æ‰˜æŸ¥è¯¢å‡½æ•°æœ€æ–°ä»·ä¸‹å•é™ä»·ä¸‹å•æ’¤å•å› å­æ£€éªŒç­–ç•¥å›æµ‹ - research_strategyæ¨¡æ‹Ÿä»¿çœŸ - research_trade

- ç ”ç©¶ç¯å¢ƒçš„ä½¿ç”¨å‚¨å­˜èµ„æºå¤–éƒ¨æ•°æ®è®¿é—®å¤–ç½‘æ–‡ä»¶ä¸Šä¼ ç ”ç©¶ç¯å¢ƒå…³é—­è§„åˆ™ç ”ç©¶ç¯å¢ƒå¦‚ä½•å…³é—­ï¼Ÿå®šæ—¶ä»»åŠ¡Crontabå®ç›˜å¯ä»¥äº‘ç«¯æ‰˜ç®¡ä¹ˆï¼Ÿé‚£æˆ‘æ²¡æœ‰æ¡ä»¶ä¸€ç›´å¼€ç€ç”µè„‘æ€ä¹ˆåŠï¼Ÿå¯ä»¥å®ç°å®Œå…¨æ— äººå€¼å®ˆä¹ˆï¼Ÿæˆ‘å¯ä»¥ä¸€ç›´ä¸ç”¨ç®¡è¿è¡Œçš„ç¨‹åºä¹ˆï¼Ÿæˆ‘å¯ä»¥ç”³è¯·è¶…è¿‡7å¤©ä¹ˆï¼Ÿä¸ºä»€ä¹ˆç ”ç©¶ç¯å¢ƒæŠ¥â€œæœåŠ¡å™¨ä¸å¯ç”¨æˆ–æ— æ³•è®¿é—®â€?ä¸ºä»€ä¹ˆç ”ç©¶ç¯å¢ƒå¡ä½ä¸æ–­åˆ·æ–°ï¼Ÿç ”ç©¶ç¯å¢ƒå¯ä»¥ç½‘é¡µè¿è¡Œï¼Ÿç ”ç©¶ç¯å¢ƒçš„å¿«æ·é”®æœ‰å“ªäº›ï¼Ÿä¸ºä»€ä¹ˆä¼šå†…å­˜çˆ†æ»¡ï¼Ÿäº‘ç«¯2Gå†…å­˜ï¼Œä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿä¸ºä»€ä¹ˆæ‰“å¼€æ–‡ä»¶ä¼šæŠ¥é”™ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨os,sysç­‰åŒ…æ€ä¹ˆè·å–userid

# ç ”ç©¶ç¯å¢ƒ/å®ç›˜è¿è¡Œ

æ¬¢è¿ä½¿ç”¨SuperMindé‡åŒ–äº¤æ˜“å¹³å°ï¼Œæœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†SuperMindç ”ç©¶ç¯å¢ƒçš„åŠŸèƒ½åŠä½¿ç”¨ã€‚

## ç¤¾åŒºäº¤æµ

å¦‚æœæ‚¨æœ‰ä»»ä½•æ„è§å»ºè®®æˆ–è€…æ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°è¯´æ˜æ–‡æ¡£ä¸­æ— æ³•è§£ç­”çš„é—®é¢˜ï¼Œæ‚¨å¯ä»¥:

- ğŸ“¢åœ¨SuperMindå®˜æ–¹ç¤¾åŒºå‘å¸–æé—®äº¤æµ

- ğŸŒåŠ å…¥SuperMindå®˜æ–¹å¾®ä¿¡ç¾¤äº¤æµ

- ğŸ’Œç»™æˆ‘ä»¬å‘é€é‚®ä»¶ï¼š SuperMind@myhexin.com

## ç ”ç©¶ç¯å¢ƒçš„æœ¬è´¨

- SuperMindç ”ç©¶ç¯å¢ƒçš„æœ¬è´¨æ˜¯ Jupyter Notebook(python3.5ç¯å¢ƒ)ä¸ JupyterLab(python3.8ç¯å¢ƒ)ï¼Œæ”¯æŒå®æ—¶ä»£ç ã€æ•°å­¦æ–¹ç¨‹ã€markdownï¼Œå…¶ç”¨é€”åŒ…æ‹¬ï¼šæ•°æ®æŸ¥çœ‹ï¼Œç»Ÿè®¡å»ºæ¨¡ï¼Œæœºå™¨å­¦ä¹ ç­‰ç­‰ï¼Œæ‚¨å¯ä»¥åœ¨ç ”ç©¶ç¯å¢ƒä¸­å®ç°æƒ³æ³•

- JupyterLabæ˜¯ Jupyter Notebookçš„å…¨é¢å‡çº§ã€‚äº‹å®ä¸Šï¼ŒJupyterLab æ˜¯ä¸€ä¸ªé›† Jupyter Notebookã€æ–‡æœ¬ç¼–è¾‘å™¨ã€ç»ˆç«¯ä»¥åŠå„ç§ä¸ªæ€§åŒ–ç»„ä»¶äºä¸€ä½“çš„å…¨èƒ½IDEã€‚

- ç›¸æ¯” Jupyter Notebookï¼ŒJupyterLabèƒ½å¤Ÿæ‰“å¼€æ›´å¤šçš„æ–‡ä»¶æ ¼å¼ï¼Œé™¤äº†ä»£ç æ–‡ä»¶ï¼ˆ.pyã€.ipynbï¼‰ï¼Œè¿˜åŒ…æ‹¬CSVã€JSONã€Markdownã€PDFã€‚

æ›´å¤šå†…å®¹è¯·å‚è€ƒjupyterå®˜æ–¹ç½‘ç«™

## Supermindæ”¯æŒå®ç›˜è¿è¡Œ

å½“å‰ç ”ç©¶ç¯å¢ƒ æ‰¿è½½äº†æˆ‘ä»¬å®ç›˜çš„èƒ½åŠ›ã€‚ï¼ˆæˆ‘ä»¬ä¹Ÿå³å°†ä¸Šçº¿å¯è§†åŒ–æ›´æ–¹ä¾¿çš„å®ç›˜ç®¡ç†åŠŸèƒ½ï¼‰

### ã€é‡è¦ï¼ï¼ã€‘å†™åœ¨æœ€å‰é¢

1ã€å…¨å±€å˜é‡éœ€è¦ä¸ºå¯pickleä¿å­˜çš„å¯¹è±¡ï¼Œå¦‚listï¼Œdictç­‰ã€‚å¦‚æœæ²¡æ³•ç¡®è®¤æœ€å¥½å…ˆè¯•è¿è¡Œå‡ å¤©ã€‚

2ã€æŸ¥æŒä»“ã€èµ„é‡‘ã€å§”æ‰˜çš„æ¥å£ï¼Œåˆ¸å•†å¯èƒ½ä¼šé™åˆ¶é¢‘ç‡ï¼Œæ‰€æœ‰ä»£ç é‡Œæœ€å¥½é™ä½ä½¿ç”¨é¢‘ç‡ã€‚

3ã€æ™šä¸Š22:05-22:15æ˜¯åå°å›ºå®šæ¸…ç®—æ—¶é—´ï¼Œä¸æ¥å—æ–°å•ï¼Œæ— æ³•å¤„ç†äº¤æ˜“æŒ‡ä»¤ã€‚

### ã€é‡ç£…æ›´æ–°ã€‘å›æµ‹ä»£ç ç›´æ¥å®ç›˜äº¤æ˜“ åªéœ€ä¸€åˆ†é’Ÿï¼

#### 1ã€èƒŒæ™¯ä¸ç›®çš„

ä¹‹å‰æˆ‘ä»¬æœ‰äº†ç­–ç•¥å›æµ‹ä»£ç ï¼Œåˆ°å®ç›˜è¦ç»è¿‡ç†Ÿæ‚‰å®ç›˜APIã€å†™ä»£ç ã€è°ƒè¯•ä»£ç çš„ç¯èŠ‚ï¼Œå¤§æ¦‚è¿˜éœ€è¦1-2å‘¨çš„æ—¶é—´æ‰èƒ½å®ç›˜ï¼Œæœ‰éå¸¸å¤šçš„ç”¨æˆ·åˆ°è¿™ä¸€æ­¥ ä¼šæŸæ‰‹æ— ç­–ï¼Œç”šè‡³æ”¾å¼ƒï¼

ç°åœ¨ï¼Œæœ‰äº†å›æµ‹ä»£ç ç›´æ¥å®ç›˜çš„åŠŸèƒ½ï¼Œå¯ä»¥çœå»è¿™ä¸ªæ­¥éª¤ï¼Œè®©åˆšå…¥é—¨çš„æœ‹å‹ä¹Ÿå¯ä»¥ç›´æ¥æ‹¿å›æµ‹ä»£ç è¿›è¡Œå®ç›˜äº†ã€‚å¾ˆæ£’ï¼ä¸ºæˆ‘ä»¬çš„å·¥ç¨‹å¸ˆç‚¹èµï¼

æ­¤å¤–è¿˜æ–°å¢äº†ä¸€äº›æ¥å£ï¼Œæ–¹ä¾¿å®ç›˜äº¤æ˜“ã€‚

ä¸æ–­é™ä½å®ç›˜çš„é—¨æ§›æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•å¥½çš„æƒ³æ³•æ„è§è¯·éšæ—¶ç•™è¨€

æœ¬åŠŸèƒ½éœ€è¦é‡å¯ç ”ç©¶ç¯å¢ƒæ‰èƒ½ç”Ÿæ•ˆï¼

#### 2ã€ç­–ç•¥å®ç›˜äº¤æ˜“ï¼ˆå›æµ‹ä»£ç 1åˆ†é’Ÿå®ç›˜ï¼‰

- ç¤ºä¾‹ï¼š

from tick_trade_api import TradeAPI
#åˆå§‹åŒ–TradeAPIæ—¶éœ€è¦æŒ‡å®šä¸‹å•ç­–ç•¥ï¼ŒMarketPolicyä¸ºæœ€æ–°ä»·ä¸‹å•ï¼›LimitPolicyä¸ºé™ä»·ä¸‹å•
trade_api=TradeAPI('69271711',order_policy=LimitPolicy)

source_code="""
# è‚¡ç¥¨ç­–ç•¥æ¨¡ç‰ˆ
def init(context):
    pass

# ç›˜å‰æ‰§è¡Œ
def before_trading(context):
    pass

# å¼€ç›˜æ—¶è¿è¡Œå‡½æ•°
def handle_bar(context, bar_dict):
    order_id = order('000001.SZ', 100)
    print(get_orders())
    try:
        cancel_order(order_id)
    except:
        print('æ’¤å•å¤±è´¥')
    print(get_open_orders())
    print(get_tradelogs())
    print(context.portfolio.stock_account)
    print(context.portfolio.positions)
"""
rtrade = research_trade(
    'ç ”ç©¶ç¯å¢ƒç­–ç•¥',
     source_code,
     frequency='MINUTE', 
     trade_api=trade_api,
     signal_mode=False,
     recover_dt='today'
)
â€‹

research_tradeæ¥å£æ–‡æ¡£è¯¦è§

trade_api=TradeAPI('69271711',order_policy=LimitPolicy) ä¸­çš„è´¦å·æ˜¯æ¨¡æ‹Ÿèµ„é‡‘è´¦å·æˆ–è€…æ˜¯å®ç›˜èµ„é‡‘è´¦å·ã€‚

#### 3ã€å…¶ä»–æ›´æ–°

##### è¿™æ¬¡è¿˜å¢åŠ äº†å‡ ä¸ªåŠŸèƒ½

ç­–ç•¥æ¡†æ¶ä¸­å¢åŠ  ï¼š

- cancel_order_all() å…¨æ’¤

- get_tradelogs()è·å–å½“æ—¥å…¨éƒ¨æˆäº¤è®¢å•

- get_orders() è·å–å§”æ‰˜ï¼Œå’Œget_order()ä¸€è‡´ï¼Œä¸»è¦æ—¶å’ŒTradeAPIä¸­å‡½æ•°åå¯¹é½

TradeAPIå¢åŠ ï¼š

- get_open_orders() è·å–å½“æ—¥æœªæˆè®¢å•

- cancel_order_all() å…¨æ’¤

### SuperMind 1åˆ†é’Ÿå¿«é€Ÿå®ç›˜ å…¥é—¨æ•™ç¨‹

#### 1ã€ç¡®ä¿å…ˆä¸‹è½½å¥½ç»ˆç«¯ å¹¶å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

æœªä»˜è´¹çš„å¯ä»¥ä¸‹è½½ä½“éªŒç‰ˆæœ¬ è¿›è¡Œä»¿çœŸå®ç›˜ï¼š

https://download.10jqka.com.cn/index/download/id/709

æƒ³è¦ç”¨çœŸå®èµ„é‡‘è´¦å·å®ç›˜çš„è”ç³»è®ºå›é¦–é¡µå³ä¸Šè§’çš„ç¾¤ã€‚

#### 2ã€ç”¨åŒèŠ±é¡ºè´¦å·è¿›è¡Œç™»å½•è½¯ä»¶

#### 3ã€ç‚¹å‡»ä¸‹æ–¹â€œç ”ç©¶ä¸€ä¸‹â€æŒ‰é’®ï¼š

æ­¤æ“ä½œä¼šæ‰“å¼€ç½‘é¡µç«¯çš„ç ”ç©¶ç¯å¢ƒ å¹¶æŠŠä¸‹æ–¹çš„ç ”ç©¶æ–‡ä»¶ç›´æ¥æ‹·è´åˆ°ç ”ç©¶ç¯å¢ƒæ ¹ç›®å½•

é‡åˆ°éœ€è¦é€‰æ‹©ç¯å¢ƒ å»ºè®®é€‰æ‹© python3.8

#### 4ã€æ‰“å¼€å®¢æˆ·ç«¯çš„ç ”ç©¶ç¯å¢ƒ ç›´æ¥å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶ è¿›è¡ŒæŒ‰ç…§æç¤ºè¿›è¡Œè¿è¡Œäº†

å®ç›˜æ“ä½œ

##### 4.1ã€è¿›å…¥å®¢æˆ·ç«¯é¦–é¡µè·å–èµ„é‡‘è´¦å·ï¼š

##### 4.2ã€æŠŠç­–ç•¥å¯¹åº”çš„èµ„é‡‘è´¦å·å¡«å†™åˆ° TradeAPIçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­æŠŠç­–ç•¥å¯¹åº”çš„èµ„é‡‘è´¦å·å¡«å†™åˆ° TradeAPIçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­

##### 4.3ã€é€‰ä¸­ä¸‹æ–¹çš„ä»£ç å•å…ƒæ ¼ä¹‹åï¼Œç‚¹å‡»ä¸Šæ–¹ä¸‰è§’å½¢ â–¶ æŒ‰é’®å¯åŠ¨ç­–ç•¥ï¼š

æ¨¡æ¿ç­–ç•¥ è¯·åˆ° è¿™ä¸ªå¸–å­åº•éƒ¨è¿›è¡Œå¤åˆ¶ï¼ˆç‚¹å‡» ç ”ç©¶ä¸€ä¸‹ï¼Œå°±ä¼šå¤åˆ¶åˆ°æ‚¨çš„ç ”ç©¶ç¯å¢ƒæ ¹ç›®å½•ï¼‰ï¼šhttps://quant.10jqka.com.cn/view/article/2358

### ä»¿çœŸ/å®ç›˜ä¸å›æµ‹çš„å·®å¼‚ä»¥åŠè§£å†³æ–¹æ¡ˆ

æ±‡æ€»ä¸€ä¸‹ç›®å‰å®ç›˜é‡åˆ°æ¯”è¾ƒå¤šçš„é—®é¢˜ã€äº§ç”Ÿçš„åŸå› ä»¥åŠå¦‚ä½•è§£å†³é—®é¢˜ã€‚é¦–å…ˆå¾—ä»å›æµ‹ç¯å¢ƒå’Œå®ç›˜ç¯å¢ƒçš„ä¸€äº›åŒºåˆ«å¼€å§‹è¯´èµ·

#### å›æµ‹(æ¨¡æ‹Ÿ)ä¸ä»¿çœŸæŸœå°çš„åŒºåˆ«?ï¸

å›æµ‹(æ¨¡æ‹Ÿ)ç¯å¢ƒå’ŒæŸœå°ç¯å¢ƒ(ä»¿çœŸã€å®ç›˜)ä¼šæœ‰éƒ¨åˆ†å·®å¼‚ï¼Œå¦‚æœåœ¨ç­–ç•¥ä¸­ä¸è€ƒè™‘è¿™äº›å·®å¼‚å¹¶åšå¯¹åº”å¤„ç½®ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç­–ç•¥åœ¨å›æµ‹ä¸­æ­£å¸¸è¿è¡Œï¼Œå¯¼è‡´ç­–ç•¥åœ¨ä»¿çœŸã€å®ç›˜ä¸­å‡ºç°bugã€‚

æ¢³ç†äº†ä¸€ä¸‹ç›®å‰ä¸»è¦æœ‰ä»¥ä¸‹ä¸åŒç‚¹(å¦‚æœ‰é—æ¼è¯·è¡¥å……)ï¼š

| å›æµ‹ | ä»¿çœŸ |
| --- | --- |
| ä¸€èˆ¬æ²¡æœ‰åˆå§‹æŒè‚¡ | å¯èƒ½æœ‰åˆå§‹æŒè‚¡ |
| å§”æ‰˜é€šå¸¸ä¼šç«‹åˆ»æˆäº¤ | å§”æ‰˜ä¸ä¼šç«‹åˆ»æˆäº¤ |
| æŒä»“æ•°æ®ä¸­æœ‰æŒä»“å¤©æ•°position_days | position_daysä¸€ç›´ç­‰äº0 |
| ä¸å­˜åœ¨ç­–ç•¥å¤–äº¤æ˜“ | ç­–ç•¥å¤–äº¤æ˜“ä¼šå½±å“ç­–ç•¥å†… |
| å¾ˆå°‘æœ‰æ’¤å•çš„åœºæ™¯ | æœ€å¥½éœ€è¦è€ƒè™‘æ’¤å• |
| å›æŠ¥æ²¡æœ‰å»¶è¿Ÿ | å›æŠ¥æœ‰å»¶è¿Ÿ |
| å½“æ—¥åœç‰Œè¡Œæƒ…æ•°æ®å¯ä»¥è¡¥ä¸Š(get_priceçš„skip_paused=False) | å½“æ—¥åœç‰Œè¡Œæƒ…æ•°æ®æ— æ³•è¡¥ä¸Š |

#### å¯èƒ½å¯¼è‡´çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ?ï¸

##### é—®é¢˜ä¸€ï¼šèµ„é‡‘è´¦å·å†…æœ‰åˆå§‹æŒä»“

ç­–ç•¥åœ¨å›æµ‹/æ¨¡æ‹Ÿä¸­ï¼Œåœ¨ä¸è®¾ç½®çš„æƒ…å†µä¸‹æ˜¯ä¸ä¼šæœ‰åˆå§‹æŒä»“çš„ï¼Œè€Œåœ¨å®é™…äº¤æ˜“ä¸­ï¼Œèµ„é‡‘è´¦å·é€šå¸¸ä¼šæœ‰åˆå§‹æŒä»“ã€‚

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

éƒ¨åˆ†ç­–ç•¥å†…éƒ¨å­˜åœ¨å†…éƒ¨è®°å½•æŒä»“ä¿¡æ¯çš„é€»è¾‘ï¼Œåœ¨èµ„é‡‘è´¦å·æœ‰åˆå§‹æŒä»“æ—¶ï¼Œä½¿ç”¨research_tradeè¿è¡Œç­–ç•¥æ—¶ï¼Œå¦‚æœæœ‰åŠ å…¥åŒæ­¥å‡½æ•°sync_trade_api()æˆ–è€…ç­–ç•¥çš„ signal_mode=Falseï¼Œç­–ç•¥å†…éƒ¨æ— åˆå§‹æŒä»“çš„ä¿¡æ¯ï¼Œå¯èƒ½å¯¼è‡´å†²çªæŠ¥é”™

- æ¡ˆä¾‹ï¼šç­–ç•¥åº“ä¸­çš„é—®è´¢åˆ†é’Ÿæ¨¡æ¿

åœ¨ä»¥ä¸Šç­–ç•¥ä¸­ï¼Œç­–ç•¥ä¼šå°†ä¹°å…¥è‚¡ç¥¨çš„ä¿¡æ¯è®°å½•åœ¨å­—å…¸ context.informationä¸­ã€‚å½“èµ„é‡‘è´¦æˆ·æœ‰åˆå§‹æŒä»“æ—¶ï¼Œå–å‡ºè¿™éƒ¨åˆ†è‚¡ç¥¨çš„æ—¶å€™ï¼Œç­–ç•¥ä¼šå°† context.informationä¸­çš„æŒä»“ä¿¡æ¯åˆ é™¤ï¼Œä½†ç”±äº context.informationå­—å…¸æ²¡æœ‰è¿™éƒ¨åˆ†è‚¡ç¥¨ä»£ç çš„key(å› ä¸ºä¸åœ¨ç­–ç•¥å†…ä¹°å…¥ï¼Œæ²¡æœ‰è®°å½•)ï¼Œä½¿ç”¨delæ–¹æ³•åˆ é™¤æŒä»“ä¿¡æ¯æ—¶å¯¼è‡´æŠ¥é”™ï¼š

- è§£å†³æ–¹æ¡ˆ(ç”¨æˆ·ä¾§ï¼Œå…·ä½“æ–¹æ¡ˆéœ€è§†ç­–ç•¥å®é™…æƒ…å†µè€Œå®š)ï¼š

åˆå§‹åŒ–æ—¶åœ¨ context.informationä¸­è®°å½•åˆå§‹æŒä»“ä¿¡æ¯
ç­–ç•¥è¿è¡Œæ—¶ä¸è¦åœ¨ç­–ç•¥å¤–éƒ¨è¿›è¡Œäº¤æ˜“
ä½¿ç”¨dict.pop()åˆ é™¤å­—å…¸ä¸­çš„keyï¼Œè€Œä¸æ˜¯delæ–¹æ³•

- é•¿æœŸè§£å†³æ–¹æ¡ˆ(SuperMindåŠŸèƒ½ä¼˜åŒ–)ï¼š

ä»¥ç­–ç•¥ä¸ºå•ä½æ„å»ºèµ„äº§å•å…ƒ(ç±»ä¼¼åˆ†ä»“åŠŸèƒ½)ï¼Œå°†ç­–ç•¥å†…å¤–éƒ¨èµ„é‡‘ã€æŒä»“ã€å§”æ‰˜ã€æˆäº¤æ•°æ®éš”ç¦»ï¼ˆé¢„è®¡7æœˆ-8æœˆï¼‰

##### é—®é¢˜äºŒï¼šå®ç›˜ä¸­å§”æ‰˜é€šå¸¸ä¸ä¼šç«‹å³æˆäº¤

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

ç­–ç•¥å†…éƒ¨å­˜åœ¨å†…éƒ¨è®°å½•æŒä»“ä¿¡æ¯çš„é€»è¾‘ï¼Œåœ¨å§”æ‰˜åç«‹å³è®°å½•ä¹°å…¥ï¼Œå®é™…ä¸Šå§”æ‰˜åä¸ä¼šç«‹åˆ»æˆäº¤ï¼ˆç­‰å¾…æ—¶é—´è§†å§”æ‰˜ä»·æ ¼å’Œå½“å‰è¡Œæƒ…èµ°åŠ¿è€Œå®šï¼‰ã€‚æ­¤æ—¶å°±æœ‰å¯èƒ½å¯¼è‡´ä¿¡æ¯è¢«æ¼è®°/å¤šè®°

- æ¡ˆä¾‹ï¼šç¤ºä¾‹ä»£ç 

```
import time

def init(context):
    g.information = {}
    g.symbols = ['000001.SZ','600519.SH']

def handle_bar(context):
    for symbol in g.symbols:
        order(symbol,100)
    for symbol in list(context.portfolio.positions):
        g.information[symbol] = 1
    time.sleep(3)
    for symbol in list(context.portfolio.positions):
        print(g.infomation[symbol])
â€‹
```

ä»¥ä¸Šä»£ç åœ¨å›æµ‹ä¸­é€šå¸¸ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºæ’®åˆæ˜¯åœ¨ç­–ç•¥å†…éƒ¨ä¸²è¡Œä¸”å¸‚ä»·å•é€šå¸¸å¯ä»¥æˆäº¤ã€‚ä½†æ˜¯åœ¨å®ç›˜ä¸­ï¼Œè‚¡ç¥¨ä¸‹å•åæ±‡æŠ¥å’Œæ’®åˆä¸ä¼šåƒå›æµ‹ä¸­é‚£æ ·è¿›è¡Œï¼Œè®¢å•çš„æ’®åˆå’Œç­–ç•¥æ—¶åŒæ­¥è¿›è¡Œçš„ï¼Œæ­¤æ—¶ï¼ŒæŒ‰ç¤ºä¾‹ä»£ç çš„æ–¹å¼ï¼Œå°±å¯èƒ½ä¼šç”±äºè®¢å•æœªæˆäº¤ï¼Œå¯¼è‡´ä¿¡æ¯æœªè¢«è®°å½•è¿› g.informationï¼Œè€Œåœ¨ä¸‰ç§’ä¹‹åè®¢å•æˆäº¤ï¼Œå†ä½¿ç”¨æŒä»“ä»£ç å»è¯» g.informationçš„æ•°æ®æ—¶ï¼Œå¯¼è‡´ç­–ç•¥å‡ºé”™ã€‚

- è§£å†³æ–¹æ¡ˆ(ç”¨æˆ·ä¾§ï¼Œå…·ä½“æ–¹æ¡ˆéœ€è§†ç­–ç•¥å®é™…æƒ…å†µè€Œå®š)ï¼š

ä¼˜åŒ–è®°å½•æŒä»“ä¿¡æ¯çš„ä»£ç ï¼Œæ¯”å¦‚åœ¨æ”¶ç›˜åæ ¹æ®æŒä»“ã€æˆäº¤ç­‰ä¿¡æ¯ç»Ÿä¸€è¿›è¡Œè®¡ç®—ï¼Œå‡å°‘æ¼è®°ã€å¤šè®°çš„å‘ç”Ÿ
è€ƒè™‘ä½¿ç”¨dict.get()å‡½æ•°è·å–å­—å…¸å†…çš„æ•°æ®

- é•¿æœŸè§£å†³æ–¹æ¡ˆ(SuperMindåŠŸèƒ½ä¼˜åŒ–)ï¼š

å¢åŠ æˆäº¤å›æŠ¥äº‹ä»¶ã€å§”æ‰˜çŠ¶æ€æ›´æ–°äº‹ä»¶æ¨é€(è®¡åˆ’6æœˆåº•å‰)

##### é—®é¢˜ä¸‰ï¼šåˆ¸å•†/ä»¿çœŸæŸœå°è¿”å›çš„æŒä»“æ•°æ®ä¸­æ²¡æœ‰position_daysæ•°æ®

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

ç­–ç•¥å†…ä½¿ç”¨æ­¤æ•°æ®æ¥è¿›è¡Œæ§åˆ¶æœ€å¤§æŒä»“å¤©æ•°éƒ¨åˆ†ä»£ç å¯èƒ½å¤±æ•ˆ

- æ¡ˆä¾‹ï¼šç¤ºä¾‹ä»£ç 

```
from datetime import timedelta as td

def init(context):
    g.symbols = ['000001.SZ','600519.SH']
    g.status = True

def handle_bar(context):
    if g.status:
        for symbol in g.symbols:
            order(symbol,100)
        g.status = False
    else:
        for k,v in context.portfolio.positions:
            trade_days = get_datetime() - td(v.positions_days)
            tdays = len(get_trade_days(
                trade_days.strftime('%Y%m%d'),
                get_datetime().strftime('%Y%m%d')
            ))
            if tdays>5:
                order_target(k,0)
â€‹
```

æ­¤ç¤ºä¾‹ä»£ç å¸Œæœ›å®ç°çš„æ˜¯ä¹°å…¥è‚¡ç¥¨æ± åæŒæœ‰5å¤©åå–å‡ºï¼Œåœ¨å›æµ‹ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ä»¿çœŸ/å®ç›˜ä¸­ï¼Œç”±äºæŸœå°æ²¡æœ‰positions_daysçš„æ•°æ®ï¼Œå› æ­¤v.positions_daysä¸€ç›´ä¼šç­‰äº0ï¼Œå¯¼è‡´æ­¤éƒ¨åˆ†ä»£ç æ— æ³•å®ç°é¢„æœŸæ•ˆæœã€‚

- è§£å†³æ–¹æ¡ˆ(ç”¨æˆ·ä¾§ï¼Œå…·ä½“æ–¹æ¡ˆéœ€è§†ç­–ç•¥å®é™…æƒ…å†µè€Œå®š)ï¼š

å¢åŠ è®°å½•æŒè‚¡å¤©æ•°çš„æ•°æ®ï¼Œä½†éœ€è¦æ³¨æ„é¿å…é—®é¢˜ä¸€å’Œé—®é¢˜äºŒ

- é•¿æœŸè§£å†³æ–¹æ¡ˆ(SuperMindåŠŸèƒ½ä¼˜åŒ–)ï¼š

ä»¥ç­–ç•¥ä¸ºå•ä½æ„å»ºèµ„äº§å•å…ƒ(ç±»ä¼¼åˆ†ä»“åŠŸèƒ½)ï¼Œå°†ç­–ç•¥å†…å¤–éƒ¨èµ„é‡‘ã€æŒä»“ã€å§”æ‰˜ã€æˆäº¤æ•°æ®éš”ç¦»ï¼ˆé¢„è®¡7-8æœˆï¼‰ï¼Œå¹¶æ ¹æ®æ­¤è®¡ç®—å‡ºposition_daysæ•°æ®

##### é—®é¢˜å››ï¼šç­–ç•¥å¤–äº¤æ˜“ä¼šå½±å“ç­–ç•¥å†…

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

æ‰‹åŠ¨ä¹°å…¥çš„æŒä»“è¢«ç­–ç•¥å–å‡ºï¼Œæ‰‹åŠ¨å–å‡ºçš„æŒä»“è¢«ç­–ç•¥ä¹°å›
ç­–ç•¥ä»£ç æŠ¥é”™

- è§£å†³æ–¹æ¡ˆ(ç”¨æˆ·ä¾§ï¼Œå…·ä½“æ–¹æ¡ˆéœ€è§†ç­–ç•¥å®é™…æƒ…å†µè€Œå®š)ï¼š

å¤„ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ”¹åŠ¨æ¯”è¾ƒå¤šï¼Œä»£ç èƒ½å¼±çš„åŒå­¦æš‚æ—¶å°½å¯èƒ½ä¸è¦åœ¨ç­–ç•¥å¤–åšæ‰‹åŠ¨äº¤æ˜“

- é•¿æœŸè§£å†³æ–¹æ¡ˆ(SuperMindåŠŸèƒ½ä¼˜åŒ–)ï¼š

ä»¥ç­–ç•¥ä¸ºå•ä½æ„å»ºèµ„äº§å•å…ƒ(ç±»ä¼¼åˆ†ä»“åŠŸèƒ½)ï¼Œå°†ç­–ç•¥å†…å¤–éƒ¨èµ„é‡‘ã€æŒä»“ã€å§”æ‰˜ã€æˆäº¤æ•°æ®éš”ç¦»ï¼ˆé¢„è®¡7-8æœˆï¼‰

##### é—®é¢˜äº”/é—®é¢˜å…­ï¼šå®ç›˜ä¸­éœ€è¦è€ƒè™‘æ›´å¤æ‚çš„åœºæ™¯

- ç­–ç•¥å›æµ‹åŠæ¨¡æ‹Ÿäº¤æ˜“æ—¶ï¼Œç­–ç•¥å¯ä»¥è¯´å®åœ¨ç›¸å¯¹é™æ€çš„ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œå¹¶ä¸”æ—¶ä¸è€ƒè™‘å»¶è¿Ÿçš„ã€‚è€Œåœ¨å®é™…çš„äº¤æ˜“ä¸­ï¼Œå¸‚åœºç¬æ¯ä¸‡å˜ï¼Œæ— è®ºæ˜¯æ•°æ®è·å–ã€è®¡ç®—è€—æ—¶è¿™ç§ï¼Œè¿˜æ˜¯ä¸‹å•ä¸å›æŠ¥çš„å»¶è¿Ÿ(ä¸å¯æ§)ï¼Œéƒ½ä¼šå¯¼è‡´å®ç›˜ä¸­äº§ç”Ÿæ›´å¤æ‚çš„æƒ…æ™¯

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

è€ƒè™‘è®¢å•é•¿æœŸæœªæˆäº¤æƒ…å†µä¸‹çš„å¤„ç†æ–¹å¼ï¼Œå›æµ‹ä¸­å¯¹æ‰‹ä»·/å¸‚ä»·å•é€šå¸¸å¯ä»¥ç«‹åˆ»æˆäº¤ï¼Œè€Œå®é™…äº¤æ˜“ä¸­åˆ™ç›¸å¯¹æ¥è¯´æœ‰è¾ƒå¤§æ¦‚ç‡ä¸ä¼šç«‹åˆ»æˆäº¤

ä¾‹å¦‚ï¼šä»·æ ¼å˜åŠ¨å‰§çƒˆæ—¶ï¼Œä¸‹å•åæœªæˆäº¤ï¼ŒåˆæœªåŠæ—¶æ’¤å•ã€è¿½å•ï¼Œé™ä½èµ„é‡‘æ•ˆç‡ã€‚å¯èƒ½ä¼šå½±å“ç­–ç•¥è°ƒä»“ï¼Œé€ æˆç­–ç•¥è¡¨ç°å˜å·®

åœ¨ç­–ç•¥é€»è¾‘ä¸Šå……åˆ†è€ƒè™‘åˆ°è®¢å•ç”Ÿæˆã€ä¸‹å•åˆ°åˆ¸å•†æŸœå°ã€åˆ¸å•†æŸœå°å›æŠ¥æ‰€äº§ç”Ÿçš„å»¶è¿Ÿï¼Œé¿å…ç­–ç•¥å‡ºç°å¼‚å¸¸

ä¾‹å¦‚ï¼šåœ¨ä¸‹å•åç«‹åˆ»æ’¤é”€è®¢å•ï¼Œæ­¤è®¢å•åˆšç”Ÿæˆï¼Œæœªå®Œæˆåˆå§‹åŒ–ï¼Œå¤„äºä¸å¯æ’¤é”€çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´æŠ¥é”™

å°½å¯èƒ½å‡å°‘åœ¨handle_barä¸­è·å–ä»»ä½•æ•°æ®ï¼Œæé«˜è®¡ç®—æ•ˆç‡ï¼Œé¿å…ç­–ç•¥æœ¬èº«äº§ç”Ÿè¾ƒé«˜çš„å»¶æ—¶

ä¾‹å¦‚ï¼šhandle_baråœ¨9.31åˆ†è¢«è§¦å‘ï¼Œä»è§¦å‘åˆ°ä¸‹å•ä¸­é—´è®¡ç®—è€—æ—¶äº”åˆ†é’Ÿï¼Œåœ¨å›æµ‹ä¸­ï¼Œè®¢å•ä»ç„¶ä¼šä»¥9.31åˆ†çš„è¡Œæƒ…æ•°æ®è¿›è¡Œæ’®åˆã€‚è€Œåœ¨å®ç›˜ä¸­ï¼Œè®¢å•ä¼šåœ¨9.36åˆ†è¢«å‘å‡ºï¼Œä»è€Œäº§ç”Ÿå»¶æ—¶æˆæœ¬ã€‚

- è§£å†³æ–¹æ¡ˆ(ç”¨æˆ·ä¾§ï¼Œå…·ä½“æ–¹æ¡ˆéœ€è§†ç­–ç•¥å®é™…æƒ…å†µè€Œå®š)ï¼š

è€ƒè™‘å¤æ‚åœºæ™¯ï¼Œå¹¶å¢åŠ ç›¸å¯¹äºçš„ç­–ç•¥ä»£ç 

- è§£å†³æ–¹æ¡ˆï¼ˆSuperMindåŠŸèƒ½ä¼˜åŒ–ï¼‰ï¼š

å¢åŠ æˆäº¤å›æŠ¥äº‹ä»¶ã€å§”æ‰˜çŠ¶æ€æ›´æ–°äº‹ä»¶æ¨é€(è®¡åˆ’6æœˆåº•å‰)

##### é—®é¢˜ä¸ƒï¼šå®ç°ç§’çº§åˆ«é¢‘ç‡çš„ç­–ç•¥äº¤æ˜“

- å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š

â€œé‡åŒ–å®ç›˜â€ç¯å¢ƒè™½ç„¶èƒ½ä¸æ»‘ä¾¿æ·çš„å®ç°â€œç­–ç•¥å›æµ‹â€ä¸€é”®ä¸Šå®ç›˜ï¼Œä½†åŒæ—¶ä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼Œå¦‚signal_modeçš„å‚æ•°è®¾ç½®ï¼Œä»¥åŠåªæ”¯æŒæ—¥é¢‘/åˆ†é’Ÿé¢‘çš„ç­–ç•¥ã€‚

- è§£å†³æ–¹æ¡ˆï¼š

åœ¨â€œç ”ç©¶ç¯å¢ƒâ€ç¯å¢ƒæä¾›æ›´é«˜çš„è‡ªç”±åº¦ï¼Œä½†å¯¹ä»£ç çš„èƒ½åŠ›è¦æ±‚ä¹Ÿæ›´é«˜ã€‚ç”¨æˆ·å¯ä»¥è‡ªè¡Œæ­å»ºç­–ç•¥æ¡†æ¶å®ç°ç§’çº§åˆ«ç­–ç•¥äº¤æ˜“ã€‚
ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨handle_tickå‡½æ•°å®ç°ï¼Œæ³¨æ„ï¼šä½¿ç”¨è¯¥å‡½æ•°å¿…éœ€å…ˆé€šè¿‡subscribeè®¢é˜…æ ‡çš„è¡Œæƒ…ï¼Œä¸”åœ¨è®¢é˜…æ ‡çš„æœ‰tickè¡Œæƒ…æ›´æ–°æ—¶è§¦å‘ç­–ç•¥æ‰§è¡Œã€‚
è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨run_dailyå‡½æ•°å®ç°ï¼Œæ¯ç§’ã€æˆ–å›ºå®šæ—¶ç‚¹è§¦å‘ç­–ç•¥æ‰§è¡Œã€‚
å…¶ä»–é¢‘ç‡çº§åˆ«çš„è§¦å‘ç­–ç•¥æ‰§è¡Œï¼Œè¯·ç§»æ­¥å‚è€ƒç ”ç©¶ç¯å¢ƒçš„ipynbæ–‡æ¡£ï¼šâ€œDatafeedæ•°æ®æ¥å£ä½¿ç”¨æ•™ç¨‹â€â€œäº¤æ˜“æ¥å£åº”ç”¨å®ä¾‹â€ã€‚

- æ¡ˆä¾‹ä¸€ï¼šç¤ºä¾‹ä»£ç 

```
from tick_trade_api import TradeAPI
#åˆå§‹åŒ–TradeAPIæ—¶éœ€è¦æŒ‡å®šä¸‹å•ç­–ç•¥ï¼ŒMarketPolicyä¸ºæœ€æ–°ä»·ä¸‹å•ï¼›LimitPolicyä¸ºé™ä»·ä¸‹å•
trade_api=TradeAPI('69271711',order_policy=LimitPolicy)

source_code="""
# tickè‚¡ç¥¨ç­–ç•¥æ¨¡ç‰ˆ
def init(context):
    #è®¾å®šæ ‡çš„ä»£ç 
    context.symbol = ['300033.SZ']
    subscribe(context.symbol)

# å¼€ç›˜æ—¶è¿è¡Œå‡½æ•°
def handle_tick(context, tick):
    log.info('å®šæ—¶è¿è¡Œ')

"""
rtrade = research_trade(
    'ç ”ç©¶ç¯å¢ƒç­–ç•¥handletick',
     source_code,
     frequency='TICK', 
     trade_api=trade_api,
     signal_mode=False,
     recover_dt='today'
)
â€‹
```

- æ¡ˆä¾‹äºŒï¼šç¤ºä¾‹ä»£ç 

```
from tick_trade_api import TradeAPI
#åˆå§‹åŒ–TradeAPIæ—¶éœ€è¦æŒ‡å®šä¸‹å•ç­–ç•¥ï¼ŒMarketPolicyä¸ºæœ€æ–°ä»·ä¸‹å•ï¼›LimitPolicyä¸ºé™ä»·ä¸‹å•
trade_api=TradeAPI('69271711',order_policy=LimitPolicy)

source_code="""
# tickè‚¡ç¥¨ç­–ç•¥æ¨¡ç‰ˆ
def init(context):
# æ¯ä¸ªäº¤æ˜“æ—¥å¼€ç›˜æ¯ç§’æ‰§è¡Œä¸€æ¬¡
    run_daily(func=test_day, time_rule='every_bar', reference_security='300033.SZ')

def test_day(context, bar_dict):
    log.info('å®šæ—¶è¿è¡Œ')

"""
rtrade = research_trade(
    'ç ”ç©¶ç¯å¢ƒç­–ç•¥rundaily',
     source_code,
     frequency='TICK', 
     trade_api=trade_api,
     signal_mode=False,
     recover_dt='today'
)
â€‹
```

#### æ€»ç»“

ç›®å‰é‡åˆ°çš„ä¸»è¦å°±æ˜¯è¿™äº›é—®é¢˜ï¼Œå¦‚æœåœ¨äº¤æ˜“è¿‡ç¨‹ä¸­æœ‰å…¶ä»–é—®é¢˜ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬è´´ç•™è¨€ï¼Œæœ€å¥½å¯ä»¥æä¾›æµ‹è¯•ä»£ç å¤ç°é—®é¢˜ä¾¿äºæˆ‘ä»¬æŸ¥æ‰¾åŸå› ã€‚

æƒ³å¿«é€Ÿå®ç›˜å¯ä»¥çœ‹ä¸‹é¢æ–‡ç« ï¼š

- å›æµ‹æ­£å¸¸ï¼Œæ¨¡æ‹Ÿokï¼Œå¦‚ä½•å¿«é€Ÿå®ç›˜ï¼Ÿï¼ˆä¿å§†å¼æ•™å­¦ å«æˆªå›¾ï¼‰

- SuperMind 1åˆ†é’Ÿå¿«é€Ÿå®ç›˜æ•™ç¨‹0718

- ç­–ç•¥ä»¿çœŸ/å®ç›˜ä¸ç­–ç•¥å›æµ‹ä¸­çš„å·®å¼‚é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ

### æ¯ä¸ªè´¦å·å®ç›˜å¯ä»¥å¼€å‡ ä¸ªç­–ç•¥ï¼Ÿ

supermindä¸é™åˆ¶ç­–ç•¥ä¸ªæ•°ï¼Œä½†æ˜¯ä¼šè¢«å†…å­˜çº¦æŸï¼Œä¸€èˆ¬ç”¨æˆ·2Gå†…å­˜ï¼Œå¯ä»¥è¿è¡Œ3-4ä¸ªç­–ç•¥ï¼Œä¸€èˆ¬ä¸€ä¸ªç­–ç•¥æ˜¯500Må†…å­˜å ç”¨ã€‚å¦‚æœè¦å‡çº§å†…å­˜å¯ä»¥çœ‹ä¸‹è¿™é‡Œï¼šå†…å­˜ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ

ä½†è¦æ³¨æ„ å¦‚æœåœ¨ä¸€ä¸ªèµ„é‡‘è´¦å·ä¸‹è¿è¡Œå¤šä¸ªç­–ç•¥ï¼Œéœ€è¦å¤„ç†ç­–ç•¥ä¹‹é—´çš„æŒä»“å†²çªé—®é¢˜ã€‚

### å®ç›˜æ³¨æ„å¿…é¡»å¼€ç€å®¢æˆ·ç«¯ å¹¶ç¡®ä¿ç ”ç©¶ç¯å¢ƒæ­£å¸¸è¿è¡Œ

- ç ”ç©¶ç¯å¢ƒå…³é—­è§„åˆ™ ç‚¹å‡»è¿™é‡Œ

## å†…ç½®æ¥å£

### æ•°æ®æ¥å£

- ç ”ç©¶ç¯å¢ƒä¸­æä¾›äº†ä¸°å¯Œçš„æ•°æ®æ¥å£ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š

APIæ–‡æ¡£-é€šç”¨æ•°æ®æ¥å£
SuperMindæ•°æ®å¹³å°

### ä»¿çœŸäº¤æ˜“æ¥å£ - TradeAPI

#### å‡†å¤‡å·¥ä½œ

- å…ˆæ‰“å¼€SuperMindå®¢æˆ·ç«¯ï¼Œå¹¶ç¡®ä¿éœ€è¦ä½¿ç”¨äº¤æ˜“æ¥å£çš„è´¦æˆ·å¤„äºå·²ç™»å½•çŠ¶æ€

- è¿›å…¥é‡åŒ–äº¤æ˜“æ ‡ç­¾ä¸‹çš„ç ”ç©¶ç¯å¢ƒï¼Œå¹¶åˆ›å»ºä¸€ä¸ªpythonç¬”è®°æœ¬æ–‡ä»¶(ipynbæ–‡ä»¶)

#### è´¦æˆ·ä¿¡æ¯æŸ¥è¯¢

- å¯¼å…¥åŒ…ã€åˆå§‹åŒ–è´¦æˆ·

```
from tick_trade_api.api import TradeAPI
trade_api = TradeAPI(account_id='84728199') #å¡«å…¥å·²ç™»å½•çš„èµ„é‡‘è´¦å·
â€‹
```

- æŸ¥è¯¢è´¦æˆ·èµ„é‡‘

```
portfolio = trade_api.portfolio
print(portfolio)
â€‹
```

è¾“å‡ºï¼š

```
{'available_cash': 10350203.22, 'market_value': 1168, 'total_value': 10351371.22, 'frozen_cash': 0}
â€‹
```

å­—æ®µè¯´æ˜ï¼š

| å˜é‡ | é‡Šæ„ |
| --- | --- |
| available_cash | å¯ç”¨èµ„é‡‘ |
| market_value | è¯åˆ¸å¸‚å€¼ |
| frozen_cash | å†»ç»“èµ„é‡‘ |
| total_value | æ€»èµ„äº§ |

- æŸ¥è¯¢èµ„é‡‘è½¬å…¥/è½¬å‡ºæµæ°´

```
transfer = trade_api.get_transfers(start_date=None, end_date=None)
â€‹
```

è¾“å‡ºï¼š

```
{'transfer_id': '20241213003359', 'transfer_type': 'è½¬å…¥', 'transfer_status': '', 'cash': 100000.0, 'bank_name': 'å­˜ç®¡æ‹›å•†äººæ°‘å¸', 'currency': 'äººæ°‘å¸', 'total_cash': 0.0, 'datetime': Timestamp('2024-12-13 09:51:09')}
â€‹
```

å­—æ®µè¯´æ˜ï¼š

| å˜é‡ | é‡Šæ„ |
| --- | --- |
| transfer_id | æµæ°´ç¼–å· |
| transfer_type | æµæ°´ç±»å‹ |
| transfer_status | æµæ°´çŠ¶æ€ |
| cash | èµ„é‡‘ |
| bank_name | é“¶è¡Œåç§° |
| currency | å¸ç§ |
| datetime | æˆäº¤æ—¶é—´ |

- æŸ¥è¯¢æŒä»“ä¿¡æ¯

```
positions= trade_api.positions
print(positions)
â€‹
```

è¾“å‡ºï¼šè¿”å›ä¸€ä¸ªå­—å…¸å¯¹è±¡ï¼Œé”®å€¼ä¸ºè¯åˆ¸ä»£ç ï¼›å¯¹åº”çš„æ•°æ®ä¸ºä¸€ä¸ªNamedictå¯¹è±¡, åŒ…å«è¯åˆ¸çš„å„ç§ä¿¡æ¯ã€‚å¯¹åº”å˜é‡çš„æ„ä¹‰å¯æŸ¥è¯¢ä¸‹é¢çš„è¡¨æ ¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯Namedictå¯¹è±¡ä»…å¯ä»¥æ ¹æ®é”®å€¼è·å–æ•°å€¼ï¼Œå¹¶ä¸å…·å¤‡å­—å…¸å¯è¿­ä»£ç­‰å…¶ä»–çš„ç‰¹æ€§

```
{'000001.SZ': {'symbol': '000001.SZ', 'name': 'å¹³å®‰é“¶è¡Œ', 'amount': 100, 'frozen_amount': 100, 'available_amount': 0, 'market_value': 1164, 'cost_basis': 11.644, 'last_price': 11.64, 'pnl': -0.37, 'profit_rate': -0.0003}}
â€‹
```

å­—æ®µè¯´æ˜ï¼š

| å˜é‡ | é‡Šæ„ |
| --- | --- |
| name | è‚¡ç¥¨å |
| available_amount | å¯ç”¨è¯åˆ¸æ•°é‡ |
| cost_basis | æˆæœ¬ |
| last_price | æœ€æ–°ä»· |
| amount | è¯åˆ¸æ•°é‡ |
| profit_rate | æ”¶ç›Šç‡ |
| frozen_amount | å†»ç»“æ•°é‡ |
| market_value | è¯åˆ¸å¸‚å€¼ |
| symbol | è¯åˆ¸ä»£ç  |
| pnl | ç›ˆäºé‡‘é¢ |

å°†æŒä»“ä¿¡æ¯è½¬æ¢ä¸ºdataframe,å¯ä¾›è¿›ä¸€æ­¥åˆ†æä½¿ç”¨

```
import pandas as pd
vb_list = ['symbol', 'name', 'amount', 'available_amount', 'frozen_amount', 'cost_basis', 'last_price', 'market_value', 'pnl', 'profit_rate']

positions_df = pd.DataFrame()
for symbol, info in positions.items():
    temp = pd.DataFrame([[info[vb] for vb in vb_list]], columns=vb_list, index=[0])
    positions_df = pd.concat([positions_df, temp], ignore_index=True)
print(positions_df)
â€‹
```

#### ä¸‹å•ä¸æ’¤å•

##### æœ€æ–°ä»·ä¸‹å•

å½“amountä¸ºè´Ÿæ•°æ—¶ä¸ºå–å‡ºæŒ‡ä»¤ï¼Œä¸‹å•æˆåŠŸåè¿”å›å§”æ‰˜IDï¼ˆ'order_id'ï¼‰ï¼Œå§”æ‰˜IDå¯ç”¨äºæ’¤å•å‡½æ•°è¿›è¡Œæ’¤å•ã€‚

```
trade_api.order(symbol='300033.SZ', amount=100)
â€‹
```

##### é™ä»·å•

å½“amountä¸ºè´Ÿæ•°æ—¶ä¸ºå–å‡ºæŒ‡ä»¤ï¼Œä¸‹å•æˆåŠŸåè¿”å›å§”æ‰˜IDï¼ˆ'order_id'ï¼‰ï¼Œå§”æ‰˜IDå¯ç”¨äºæ’¤å•å‡½æ•°è¿›è¡Œæ’¤å•ã€‚

```
trade_api.order(symbol='000001.SZ', amount=100, price=13.4)
â€‹
```

##### æ™ºèƒ½ä¸‹å•

å¯ä»¥é€šè¿‡æŒ‡å®špricetypeå®ç°æ›´å¤šæ ·åŒ–çš„ä¸‹å•éœ€æ±‚

| pricetype | æ„ä¹‰ | pricetype | æ„ä¹‰ |
| --- | --- | --- | --- |
| 0 | æŒ‡å®šä»· | 1 | æ¶¨åœä»· |
| 2 | è·Œåœä»· | 3 | æœ€æ–°ä»· |
| 4 | å–ä¸€ä»· | 5 | å–äºŒä»· |
| 6 | å–ä¸‰ä»· | 7 | å–å››ä»· |
| 8 | å–äº”ä»· | 9 | ä¹°ä¸€ä»· |
| 10 | ä¹°äºŒä»· | 11 | ä¹°ä¸‰ä»· |
| 12 | ä¹°å››ä»· | 13 | ä¹°äº”ä»· |
| 17 | å¸‚ä»· | 21 | è·Ÿé™ä»· |

å½“pricetypeä¸º0æ—¶ï¼Œä»¥priceçš„ä»·æ ¼ä¸‹å•ï¼›

å½“pricetypeä¸º1ï¼13æ—¶ï¼Œpriceè¡¨ç¤ºpricetypeæŒ‡å®šä»·æ ¼çš„æµ®åŠ¨ä»·ï¼Œæœ€ç»ˆä¸‹å•å§”æ‰˜ä»·æ ¼pricetypeæŒ‡å®šä»·æ ¼+priceï¼Œè‹¥æœ€ç»ˆä»·æ ¼å¤§äºæ¶¨åœä»·ï¼Œæœ€ç»ˆä»·æ ¼å–æ¶¨åœä»· ï¼Œ è‹¥å°äºè·Œåœä»·ï¼Œæœ€ç»ˆä»·æ ¼å–è·Œåœä»·

å½“pricetypeä¸º17æ—¶ï¼Œpriceè¡¨ç¤ºå¸‚ä»·ç±»å‹ï¼Œå¯¹äºæ²ªæ·±æœ‰ä¸åŒçš„å«ä¹‰ã€‚ä¸Šè¯ï¼š1-äº”æ¡£å³æˆå‰©æ’¤ï¼Œ2-äº”æ¡£å³æˆå‰©è½¬é™ï¼Œ3-æœ¬æ–¹æœ€ä¼˜ï¼Œ4-å¯¹æ‰‹æ–¹æœ€ä¼˜ï¼›æ·±è¯ï¼š1-å¯¹æ‰‹æ–¹æœ€ä¼˜ï¼Œ2-æœ¬æ–¹æœ€ä¼˜ï¼Œ3-å³æˆå‰©æ’¤ï¼Œ4-äº”æ¡£å³æˆå‰©æ’¤ï¼Œ5-å…¨é¢æˆäº¤æˆ–æ’¤

å½“pricetypeä¸º21æ—¶ï¼Œä¹°å…¥ä¸‹å•æ—¶ä¼šç´§è´´ä»·æ ¼ç¬¼å­ä¸Šæ²¿ï¼Œå–å‡ºä¸‹å•æ—¶ä¼šç´§è´´ä»·æ ¼ç¬¼å­ä¸‹æ²¿

```
#ä»¥å–äº”ä»·ä¸Šæµ®0.3å…ƒæŒ‚100è‚¡002109çš„ä¹°å•
trade_api.order(symbol='002109.SZ', amount=100, price=0.3, pricetype=8)
â€‹
```

##### æ’¤å•

- ä¼ å…¥å§”æ‰˜IDå³å¯æ’¤é”€æŒ‡å®šæœªæˆäº¤å§”æ‰˜

trade_api.cancel_order('11591')
â€‹

- å¦‚æœè¯¥å§”æ‰˜å·²æˆäº¤æˆ–è€…å·²æ’¤å•åˆ™ä¼šæŠ¥é”™ï¼Œå¯ä»¥é€šè¿‡tryã€exceptç­‰å‡½æ•°æ•è·è¯¥é”™è¯¯ï¼Œæ“ä½œå¦‚ä¸‹

try:
    trade_api.cancel_order('11591')
except:
    print('æ’¤å•å¤±è´¥: ä¸å…è®¸çš„æŒ‡ä»¤:å·²å®Œæˆæˆ–å–æ¶ˆä¸­çš„æ¡ä»¶å•ä¸å…è®¸å–æ¶ˆ')
â€‹

- å…¨éƒ¨æ’¤å•

trade_api.cancel_order_all()
â€‹

#### æŸ¥è¯¢æˆäº¤å§”æ‰˜

##### æŸ¥è¯¢SuperMindåå°å§”æ‰˜è®°å½•

- å§”æ‰˜çš„ç»“æœå¯ä»¥é€šè¿‡ trade_api.get_orderså‡½æ•°æŸ¥è¯¢ï¼Œ åŒæ—¶ä¹Ÿèƒ½åœ¨æ™ºèƒ½äº¤æ˜“ç»ˆç«¯æŸ¥çœ‹åˆ°

è°ƒç”¨æ–¹æ³•ï¼štrade_api.get_orders(order_id=None, start_time=None, end_time=None, symbol=None)
å‚æ•°è§£é‡Šï¼š

order_idï¼šè®¢å•ç¼–å·
start_timeï¼šå†å²æŸ¥è¯¢çš„å¼€å§‹æ—¶é—´
end_timeï¼šå†å²æŸ¥è¯¢çš„æˆªæ­¢æ—¶é—´
symbolï¼šæŒ‡å®šè‚¡ç¥¨ä»£ç 

æ³¨æ„äº‹é¡¹ï¼šé»˜è®¤æŸ¥è¯¢å½“æ—¥æ‰€æœ‰è®¢å•

##### å§”æ‰˜æˆäº¤æ¨é€å›è°ƒ

- è®¾å®šä¸‹åˆ—å›è°ƒå‡½æ•°åï¼Œå†ä¸‹è¾¾å§”æ‰˜å‡½æ•°ï¼Œå³å¯ä¸»åŠ¨æ¨é€æˆäº¤æƒ…å†µ
def order_push(order):
    print("æ¥æ”¶åˆ°è®¢å•æ¨é€: ", order)
trade_api.register_push(orderpush=order_push)
â€‹

#### ç®—æ³•äº¤æ˜“

##### è‡ªåŠ¨æ’¤è¿½å•

- è°ƒç”¨æ–¹æ³• trade_api.NEW_RECHASE(reprice=None, spread=0, entrustcnt=3, revoke=True, timeout=60, **kwargs)

- å‚æ•°è§£é‡Šï¼š

repriceï¼šè®¾ç½®ä¸ºNoneæ—¶è¿½å•ç®—æ³•ä¸ç”Ÿæ•ˆï¼Œè®¾ç½®ä¸ºéNoneæ—¶ï¼Œä¼šæ ¹æ®repriceå’Œrepricetypeæ¥å†³å®šè¿½å•çš„ä»·æ ¼ï¼š

å½“æœªä¼ å…¥repricetypeæ—¶

reprice=0ï¼Œrepricetypeä¼šè®¾ç½®ä¸º3ï¼Œä»¥æœ€æ–°ä»·è¿½å•ï¼Œæ‰§è¡Œentrustcntæ¬¡
repriceä¸ºæŒ‡å®šä»·æ ¼ï¼Œrepricetypeä¼šè®¾ç½®ä¸º0ï¼Œä»¥æŒ‡å®šä»·æ ¼è¿½å•1æ¬¡

å½“ä¼ å…¥repricetypeæ—¶

åœ¨è¿½å•æ—¶ç”Ÿæ•ˆï¼Œrepricetypeå«ä¹‰ç­‰åŒäºpricetypeï¼Œrepriceç­‰åŒäºpriceï¼Œè¯¦è§æ™ºèƒ½ä¸‹å•ï¼Œä¸º0æ—¶åªè¿½å•1æ¬¡ï¼Œå…¶ä½™è¿½å•entrustcntæ¬¡

spreadï¼šä»·å·®æ¯”ã€‚|(è¿½å•ä»·æ ¼ï¼ç¬¬ä¸€æ¬¡ä¸‹å•ä»·æ ¼)/ç¬¬ä¸€æ¬¡ä¸‹å•ä»·æ ¼|â‰¤spreadæ—¶ï¼Œä»¥è¿½å•ä»·æ ¼ä¸‹å•ï¼Œå¦åˆ™ä»¥ç¬¬ä¸€æ¬¡ä¸‹å•ä»·æ ¼*(1Â±spread)ä¸‹å•ï¼Œä¸”åç»­ä¸å†è¿½å•ã€‚
entrustcntï¼šäº¤æ˜“æ¬¡æ•°ï¼Œé»˜è®¤3æ¬¡ã€‚
revoke: æ˜¯å¦æ’¤å•ï¼Œé»˜è®¤æ’¤å•ã€‚
timeout: æ’¤å•é—´éš”ï¼Œé»˜è®¤60sã€‚
repricetype: å¯ä¸ä¼ ï¼Œåœ¨è¿½å•æ—¶ç”Ÿæ•ˆï¼Œrepricetypeå«ä¹‰ç­‰åŒäºpricetypeï¼Œrepriceç­‰åŒäºpriceï¼Œè¯¦è§æ™ºèƒ½ä¸‹å•

- ç¤ºä¾‹

```
# åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨è¿½å•ä¸‹å•å¯¹è±¡ è®¾ç½®è¿½å•ä»·æ ¼ä¸º82å…ƒï¼Œä»·å·®æ¯”ä¸º0.15ï¼Œäº¤æ˜“æ¬¡æ•°ä¸º3æ¬¡ï¼Œè‡ªåŠ¨æ’¤å•ï¼Œæ’¤å•æ—¶é—´ä¸º30ç§’
# è®¾ç½®å¥½è¿½å•å‚æ•°ä»¥åï¼Œ è‡ªåŠ¨ä¸‹å•è¿½å•å¯¹è±¡çš„ä½¿ç”¨æ–¹æ³•å’Œæ™®é€šä¸‹å•apiä¸€æ ·
rechase_api = trade_api.NEW_RECHASE(reprice=82, spread=0.15, entrustcnt=3, revoke=True, timeout=5)
rechase_api.order('601012.SH',amount=100, price=79)
â€‹
```

```
# æ­¤æ¥å£å¦æœ‰ä¸€éšè—å‚æ•°repricetypeï¼Œrepricetypeå«ä¹‰ç­‰åŒpricetypeï¼ŒæŒ‡å®šrepricetypeæ—¶ï¼Œrepriceç­‰åŒpriceï¼Œå‚è€ƒæ™ºèƒ½ä¸‹å•
rechase_api = trade_api.NEW_RECHASE(reprice=0.01, spread=0.15, entrustcnt=3, revoke=True, timeout=5, repricetype=10)
rechase_api.order('601012.SH', amount=200, price=79)
â€‹
```

##### ç¯®å­äº¤æ˜“

```
basket_api = trade_api.NEW_BASKET()
rechase_api = trade_api.NEW_RECHASE(reprice=None, spread=0, entrustcnt=3, revoke=True, timeout=60)
basket_api.add(symbol='000001.SZ', amount=100, algo_api=rechase_api)  # æ·»åŠ è®¢å•åˆ°ç¯®å­ï¼Œå¯å¤šæ¬¡æ·»åŠ 
basket_api.add(symbol='000001.SZ', amount=100, algo_api=rechase_api)  # æ·»åŠ è®¢å•åˆ°ç¯®å­ï¼Œå¯å¤šæ¬¡æ·»åŠ 
basket_api.add(symbol='000001.SZ', amount=100, algo_api=rechase_api)  # æ·»åŠ è®¢å•åˆ°ç¯®å­ï¼Œå¯å¤šæ¬¡æ·»åŠ 
basket_api.order(balance=1000)  # æŒ‡å®šç¯®å­ä½¿ç”¨çš„èµ„é‡‘ï¼Œé»˜è®¤0ä¸ºå…¨éƒ¨
â€‹
```

##### TWAPç®—æ³•

- è°ƒç”¨æ–¹æ³• twap_api = trade_api.NEW_TWAP(start_time='09:30', end_time='15:00', order_interval=60, rechase_interval=30, min_order_number=100, max_order_number=10000)

- å‚æ•°è§£é‡Šï¼š

start_time: å¯åŠ¨æ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œé»˜è®¤09:30ã€‚
end_time: ç»“æŸæ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´ï¼Œé»˜è®¤15:00ã€‚
order_interval: ä¸‹å•é—´éš”ï¼Œæœ€å¥½å¤§äº10ï¼Œç»™å‰ä¸€ç¬”è®¢å•å……åˆ†æˆäº¤å’Œæ’¤å•æ—¶é—´ï¼Œé»˜è®¤60sã€‚
rechase_interval: è¡¥å•é—´éš”ï¼Œå¤§äºç­‰äº0ï¼Œå°äºorder_intervalï¼Œå¦‚æœä¸º0åˆ™ä¸‹å•é—´éš”å†…ä¸æ’¤å•ï¼Œé»˜è®¤30sã€‚
min_order_number: æœ€å°ä¸‹å•çš„è‚¡ç¥¨æ•°é‡ï¼Œé»˜è®¤100è‚¡ã€‚
max_order_number: æœ€å¤§ä¸‹å•çš„è‚¡ç¥¨æ•°é‡ï¼Œé»˜è®¤10000è‚¡ã€‚
randprice: æµ®åŠ¨ä»·æ ¼ï¼Œéå¿…å¡«ï¼Œå§”æ‰˜æ—¶åœ¨price+-randpriceèŒƒå›´å†…æ³¢åŠ¨ã€‚

- è¯´æ˜

ç®—æ³•æ ¹æ®èµ·æ­¢æ—¶é—´ã€ä¸‹å•é—´éš”ã€æœ€å¤§æœ€å°ä¸‹å•æ•°é‡ï¼Œæ¥ç¡®å®šè®¢å•æ‹†åˆ†ç¬”æ•°å’Œæ¯ç¬”è®¢å•å§”æ‰˜æ•°é‡ï¼›
è®¢å•æ‹†åˆ†å®Œæˆåï¼Œæ¯2ç¬”è®¢å•ä¸‹å•æ—¶é—´é—´éš”order_intervalç§’ï¼Œæ¯ç¬”è®¢å•ä¸‹å•ä¹‹åå¦‚æœªå®Œæˆåˆ™é—´éš”rechase_intervalç§’åè¿›è¡Œæ’¤è¡¥æ“ä½œï¼Œæ’¤è¡¥ä¸å½±å“ä¸‹1ç¬”è®¢å•ï¼Œä¸¾ä¾‹è€Œè¨€ï¼Œä¸€ç¬”300è‚¡çš„è®¢å•ï¼Œorder_intervalä¸º60ç§’ï¼Œrechase_intervalä¸º30ç§’ï¼Œä¸‹å•èµ·æ­¢æ—¶é—´t1ã€t2é—´éš”3åˆ†é’Ÿï¼Œåˆ™t1ä¸‹å•100è‚¡ï¼Œt1+30sæ’¤è¡¥ï¼Œt1+60sä¸‹å•100è‚¡ï¼Œä»¥æ­¤ç±»æ¨

- ç¤ºä¾‹

```
# åˆ›å»ºä¸€ä¸ªTWAPä¸‹å•å¯¹è±¡ï¼Œå§”æ‰˜ä»·æ ¼ä¸ºæœ€æ–°ä»·ä¸Šæµ®0.01å…ƒï¼Œæµ®åŠ¨èŒƒå›´ä¸º1å…ƒï¼Œä¸‹å•é—´éš”ä¸º60ç§’ï¼Œæ’¤è¡¥é—´éš”ä¸º30ç§’
twap_api = trade_api.NEW_TWAP(start_time='09:30', end_time='15:00', order_interval=60, rechase_interval=30, min_order_number=100, 
                              max_order_number=10000,randprice=1)
twap_api.order(symbol='000001.SZ', amount=100, price=0.01,pricetype=3) # é™ä»·å•ï¼Œamountä¸ºè´Ÿæ•°ä»£è¡¨å–å‡º
â€‹
```

##### VWAPç®—æ³•

- è°ƒç”¨æ–¹æ³• vwap_api = trade_api.NEW_VWAP(start_time='09:30', end_time='15:00', order_interval=60, rechase_interval=30, min_order_number=100, max_order_number=10000, ordercycle=1, sampledays=30)

- å‚æ•°è§£é‡Šï¼š

str start_time: å¯åŠ¨æ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œé»˜è®¤09:30ã€‚

- str end_time: ç»“æŸæ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´ï¼Œé»˜è®¤15:00ã€‚

- int order_interval: ä¸‹å•é—´éš”ï¼Œæœ€å¥½å¤§äº10ï¼Œç»™å‰ä¸€ç¬”è®¢å•å……åˆ†æˆäº¤å’Œæ’¤å•æ—¶é—´ï¼Œé»˜è®¤60sã€‚

- int rechase_interval: è¡¥å•é—´éš”ï¼Œå¤§äºç­‰äº0ï¼Œå°äºorder_intervalï¼Œå¦‚æœä¸º0åˆ™ä¸‹å•é—´éš”å†…ä¸æ’¤å•ï¼Œé»˜è®¤30sã€‚

- int min_order_number: æœ€å°ä¸‹å•çš„è‚¡ç¥¨æ•°é‡ï¼Œé»˜è®¤100è‚¡ã€‚

- int max_order_number: æœ€å¤§ä¸‹å•çš„è‚¡ç¥¨æ•°é‡ï¼Œé»˜è®¤10000è‚¡ã€‚

- int ordercycle: åˆ†æ®µå‘¨æœŸï¼Œ1ã€5ã€15ã€30ã€60åˆ†é’Ÿkçº¿ï¼Œé»˜è®¤1åˆ†ã€‚

- int sampledays: æ ·æœ¬å¤©æ•°ï¼Œé»˜è®¤30å¤©ã€‚

- float randprice: æµ®åŠ¨ä»·æ ¼ï¼Œéå¿…å¡«ï¼Œå§”æ‰˜æ—¶åœ¨price+-randpriceèŒƒå›´å†…æ³¢åŠ¨ã€‚

- ç¤ºä¾‹

```
vwap_api = trade_api.NEW_VWAP(start_time='09:30', end_time='15:00', order_interval=60, rechase_interval=30, min_order_number=100, max_order_number=10000, ordercycle=1, sampledays=30)
vwap_api.order(symbol='000001.SZ', amount=100) # æœ€æ–°ä»·ä¸‹å•ï¼Œamountä¸ºè´Ÿæ•°ä»£è¡¨å–å‡º
â€‹
```

##### å†°å±±ç®—æ³•

- è°ƒç”¨æ–¹æ³• iceberg_api = trade_api.NEW_ICEBERG(start_time='09:30', end_time='15:00', order_percent=0.05, rechase_interval=30)

- å‚æ•°è§£é‡Šï¼š

- str start_time: å¯åŠ¨æ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œé»˜è®¤09:30ã€‚

- str end_time: ç»“æŸæ—¶é—´ï¼Œä¸èƒ½å¤§äºæ”¶ç›˜æ—¶é—´ï¼Œé»˜è®¤15:00ã€‚

- int order_percent: æ¯å•å æ¯”ï¼Œé»˜è®¤0.05ã€‚

- int rechase_interval: è¡¥å•é—´éš”ï¼Œå¤§äºç­‰äº0ï¼Œå°äºorder_intervalï¼Œå¦‚æœä¸º0åˆ™ä¸‹å•é—´éš”å†…ä¸æ’¤å•ï¼Œé»˜è®¤30sã€‚

- float randprice: æµ®åŠ¨ä»·æ ¼ï¼Œéå¿…å¡«ï¼Œå§”æ‰˜æ—¶åœ¨price+-randpriceèŒƒå›´å†…æ³¢åŠ¨ã€‚

- int entrusttype: å§”æ‰˜æ–¹å¼ï¼Œéå¿…å¡«ï¼Œ0-å…¨æˆå³è¡¥(é»˜è®¤)ã€1-éƒ¨æˆå³è¡¥ã€‚

- float entrusttraderatio: æˆäº¤æ¯”ä¾‹ï¼Œéå¿…å¡«ï¼Œå½“entrusttype=1æ—¶çš„æˆäº¤æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œåªè¦éƒ¨æˆå°±è¡¥å•ã€‚

- int entrusttimeout: æˆäº¤è¶…æ—¶æ—¶é—´ï¼Œéå¿…å¡«ï¼Œå½“entrusttype=1æ—¶çš„æˆäº¤è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º0ï¼Œåªè¦éƒ¨æˆå°±è¡¥å•ã€‚

- è¯´æ˜

ä¸€ä¸ªæ¯å•æ‹†æˆå¤šä¸ªå°å•ï¼Œæ¯ç¬”å­å•çš„æ•°é‡æ˜¯ä¸€å®šçš„ï¼Œå­å•æ•°é‡ = å§”æ‰˜æ•°é‡ * æ¯å•å æ¯” , å–ä¸‹æ•´(æ‰‹)
ä¸€ç¬”å­å•ä¸æˆäº¤ï¼Œè¾¾åˆ°æ’¤å•é—´éš”æ—¶ä¼šæ’¤å•ï¼Œæ’¤å•æˆåŠŸåå†å§”æ‰˜ä¸‹ä¸€ç¬”å­å•ã€‚
5ç§å§”æ‰˜æ–¹å¼ï¼š

å…¨æˆå³è¡¥ï¼šå‰ä¸€ä¸ªå­å•å…¨éƒ¨æˆäº¤å®Œæˆï¼Œåä¸€ä¸ªå­å•æ‰ä¼šå‘å•ã€‚
éƒ¨æˆå³è¡¥ï¼šå‰ä¸€ä¸ªå­å•éƒ¨åˆ†æˆäº¤ï¼Œåä¸€ä¸ªå­å•å³å§”æ‰˜å‡ºå»ï¼Œä½†æ˜¯å¿…é¡»ç­‰åˆ°ç¬¬ä¸€ä¸ªå­å•å…¨éƒ¨æˆäº¤ï¼Œç¬¬äºŒä¸ªå­å•éƒ¨åˆ†æˆäº¤ï¼Œæ‰å¯ä»¥å§”æ‰˜ç¬¬ä¸‰ä¸ªå­å•ã€‚
æˆäº¤å æ¯”ï¼šæ¯”å¦‚æ€»å§”æ‰˜é‡æ˜¯10000ï¼Œæš´éœ²é‡æ˜¯1000ã€‚å½“æ¯”ä¾‹æ˜¯50%ï¼Œç¬¬ä¸€æ¬¡æš´éœ²é‡æ˜¯1000ï¼Œç„¶åéƒ¨åˆ†æˆäº¤äº†400ï¼ˆ100040%ï¼‰ï¼Œæ˜¯ä¸ä¼šåˆ°ç¬¬äºŒæ¬¡è¡¥å•çš„ï¼›ä¸€ç›´åˆ°æˆäº¤äº†å¤§äºç­‰äº500ï¼ˆ100050%ï¼‰æ‰ä¼šç¬¬äºŒæ¬¡å§”æ‰˜ã€‚åŒæ—¶ï¼Œå¿…é¡»ç­‰åˆ°ç¬¬ä¸€ä¸ªå­å•å…¨éƒ¨æˆäº¤ï¼Œç¬¬äºŒä¸ªå­å•åˆ°50%ï¼Œæ‰å¯ä»¥å§”æ‰˜ç¬¬ä¸‰ä¸ªå­å•ã€‚
æˆäº¤è¶…æ—¶ï¼šæŒ‡è¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œè™½æœªæˆäº¤ï¼Œä½†ä¹Ÿè‡ªåŠ¨å†è¡¥ä¸€ç¬”ã€‚æˆäº¤è¶…æ—¶çš„è§„åˆ™ï¼šæ¯”å¦‚900sï¼ŒæŒ‡çš„æ˜¯å¦‚æœç¬¬ä¸€ç¬”å§”æ‰˜å900sï¼Œä»æ—§å‡ºç°æœªæˆäº¤oréƒ¨åˆ†æˆäº¤ï¼Œå°±ç›´æ¥å¼€å§‹ç¬¬äºŒæ¬¡å§”æ‰˜ã€‚åŒæ—¶ï¼Œå¿…é¡»ç­‰åˆ°ç¬¬ä¸€ä¸ªå­å•å…¨éƒ¨æˆäº¤ï¼Œç¬¬äºŒä¸ªå­å•åˆ°å§”æ‰˜å900sï¼Œæ‰å¯ä»¥å§”æ‰˜ç¬¬ä¸‰ä¸ªå­å•ã€‚
å æ¯”å’Œè¶…æ—¶åŒæ—¶è®¾ç½®ï¼šåˆ™åªéœ€è¦å¹¶ä¸”å¿…é¡»å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ»¡è¶³æ¡ä»¶ï¼Œæ‰è¿›è¡Œå§”æ‰˜

- ç¤ºä¾‹

```
iceberg_api = trade_api.NEW_ICEBERG(start_time='09:30', end_time='15:00', order_percent=0.05, rechase_interval=30)
iceberg_api.order(symbol='000001.SZ', amount=100) # æœ€æ–°ä»·ä¸‹å•ï¼Œamountä¸ºè´Ÿæ•°ä»£è¡¨å–å‡º
â€‹
```

#### èèµ„èåˆ¸äº¤æ˜“

##### å¯¼å…¥åŒ…ï¼Œå»ºç«‹è¿æ¥

```
from tick_trade_api.api import TradeCredit as TradeAPI, SIDE
trade_api = TradeAPI(account_id='18771019820')
â€‹
```

##### è´¦å·å„ç±»èµ„äº§åŠå§”æ‰˜æŸ¥è¯¢å‡½æ•°

```
print("è´¦å·ä¿¡æ¯:", trade_api.portfolio)
print("æŒä»“ä¿¡æ¯:", trade_api.positions)
print("æˆäº¤ä¿¡æ¯:", trade_api.get_tradelogs())
print("å§”æ‰˜ä¿¡æ¯:", trade_api.get_orders()) # å¯ä¼ å…¥order_idæŸ¥è¯¢æŒ‡å®šå§”æ‰˜ä¿¡æ¯
print("æŸœå°å§”æ‰˜ä¿¡æ¯:", trade_api.secondary_orders())
print("å¯èèµ„æ ‡çš„åˆ¸:", trade_api.get_stocks()
â€‹
```

è´¦æˆ·ä¿¡æ¯å­—æ®µè¯´æ˜ï¼š

| å­—æ®µ | å«ä¹‰ |
| --- | --- |
| available_cash | å¯ç”¨èµ„é‡‘ |
| market_value | å¸‚å€¼ |
| total_value | æ€»èµ„äº§ |
| frozen_cash | å†»ç»“èµ„é‡‘ |
| finance_debt | èèµ„è´Ÿå€º |
| stock_debt | èåˆ¸è´Ÿå€º |
| total_debt | æ€»è´Ÿå€º |
| net_assets | å‡€èµ„äº§ |
| finance_available | èèµ„å¯ç”¨é¢åº¦ |
| available_margin | å¯ç”¨ä¿è¯é‡‘ |

å…¶ä»–APIè¿”å›ç»“æœçš„å­—æ®µå«ä¹‰ä¸æ™®é€šè´¦æˆ·çš„APIä¸€è‡´

##### æœ€æ–°ä»·ä¸‹å•

```
trade_api.order(symbol='000001.SZ', amount=100, side=SIDE.BUY) # æœ€æ–°ä»·ä¸‹å•ï¼Œæ‹…ä¿å“ä¹°å…¥
trade_api.order(symbol='000001.SZ', amount=100, side=SIDE.FINANCE_BUY) # æœ€æ–°ä»·ä¸‹å•ï¼Œèèµ„ä¹°å…¥
trade_api.order(symbol='000001.SZ', amount=100, side=SIDE.SALE) # æœ€æ–°ä»·ä¸‹å•ï¼Œæ‹…ä¿å“å–å‡º
trade_api.order(symbol='000001.SZ', amount=100, side=SIDE.STOCK_SALE) # æœ€æ–°ä»·ä¸‹å•ï¼Œèåˆ¸å–å‡º
â€‹
```

##### é™ä»·ä¸‹å•

```
trade_api.order(symbol='000001.SZ', amount=100, price=10, side=SIDE.BUY) # é™ä»·å•
â€‹
```

##### æ’¤å•

```
trade_api.cancel_order('107828')
â€‹
```

### å› å­æ£€éªŒ

- å¯é€šè¿‡è‡ªå®šä¹‰ä»£ç å®ç°å› å­æ£€æµ‹ï¼Œä»£ç è°ƒæ•´æ–¹æ³•å¯å‚è€ƒSuperMindçš„å› å­æ£€æµ‹æ¨¡å—
# coding: utf-8
# ==========================================å› å­æ£€æµ‹==============================================================
import alphalens
import pandas as pd
import numpy as np
import time
import statsmodels.api as sm
import scipy as sp

class FactorAnalyse(object):

#==========================================å› å­æ£€æµ‹å‚æ•°è®¾ç½®==============================================================
    start_date = '2021-05-22'      #å›æµ‹å¼€å§‹æ—¶é—´
    end_date = '2021-06-21'        #å›æµ‹ç»“æŸæ—¶é—´
    benchindex = '000300.SH'       #åŸºå‡†æŒ‡æ•°è®¾ç½®
    stockpool = '000905.SH'            #è‚¡ç¥¨æ± è®¾ç½®
    quantiles=3                    #å› å­åˆ†ç»„æ•°é‡
    periods=1                      #è°ƒä»“å‘¨æœŸ
    frequency='daily'              #è°ƒä»“é¢‘ç‡'daily','weekly','monthly'ä¸€å‘¨æŒ‰5ä¸ªäº¤æ˜“æ—¥è®¡ç®—ï¼Œä¸€æœˆæŒ‰21ä¸ªäº¤æ˜“æ—¥è®¡ç®—

#==========================================æ·»åŠ å› å­==============================================================
    #æ·»åŠ å› å­åç§°ï¼Œä¿æŒlistå½¢å¼ï¼Œç³»ç»Ÿå› å­å¯¹åº”å­—æ®µå‚ç…§ http://quant.10jqka.com.cn/platform/html/help-api.html?t=data#222/436
    factor_input=['weighted_roe']

#==========================================å› å­åˆæˆå‚æ•°è®¾ç½®==============================================================
    # å› å­åˆæˆå‚æ•°
    #directè¡¨ç¤ºå› å­æ–¹å‘ï¼Œweightè¡¨ç¤ºå› å­æƒé‡
    #å› å­æ–¹å‘ï¼šä¸€å…±æœ‰ä¸¤ç§1å’Œ-1ã€‚1è¡¨ç¤ºæ­£åºï¼Œä»å°åˆ°å¤§æ’åˆ—ï¼Œå› å­å€¼è¶Šå¤§çš„è‚¡ç¥¨ä¼šåˆ†ç»„è‡³å‰å‡ ç»„ï¼›-1è¡¨ç¤ºå€’åºï¼Œæ•ˆæœåä¹‹
    factor_set={"weighted_roe":{"direct":1,"weight":1}}

#==========================================å› å­æ•°æ®å¤„ç†å‚æ•°è®¾ç½®==============================================================
    #å¯¹åº”çš„å› å­æ•°æ®å¤„ç†é€‰é¡¹
    #ç¼ºå¤±å€¼å¤„ç† fillnaï¼š0â€”ä¸å¤„ç†ï¼Œ1â€”å‡å€¼æ³•ï¼Œ2â€”å›å½’å¡«å……æ³•
    #æå€¼å¤„ç† winsorizeï¼š0â€”ä¸å¤„ç†ï¼Œ1â€”ä¸­ä½æ•°æ³•ï¼Œ2â€”ä¸‰å€æ ‡å‡†å·®ï¼Œ3â€”å››åˆ†ä½
    #æ­£äº¤åŒ–å¤„ç† neutralizeï¼š0â€”ä¸å¤„ç†ï¼Œ1â€”ç”³ä¸‡ä¸€çº§æ­£äº¤åŒ–ï¼Œ2â€”å¸‚å€¼æ­£äº¤åŒ–ï¼Œ3â€”ç”³ä¸‡è¡Œä¸šå¸‚å€¼æ­£äº¤åŒ–
    #æ ‡å‡†åŒ–å¤„ç† standardizeï¼š0â€”ä¸å¤„ç†ï¼Œ1â€”æ ‡å‡†åŒ–æ³•ï¼Œ2â€”rankå€¼æ ‡å‡†åŒ–ï¼Œ3â€”æå·®æ­£è§„åŒ–
    factor_dp={"weighted_roe":{"fillna":0,"winsorize":0,"neutralize":0,"standardize":0}}

#==========================================åˆæˆå› å­æ•°æ®å¤„ç†å‚æ•°è®¾ç½®==============================================================
    #åˆæˆå› å­æ•°æ®å¤„ç†é€‰é¡¹
    dataprcess={"fillna":0,"winsorize":0,"neutralize":0,"standardize":0}

#==========================================ç”¨æˆ·è‡ªå®šä¹‰å› å­ç®—æ³•========================================================
    #ç”¨æˆ·å¯åœ¨æ­¤å‡½æ•°ä¸‹ç¼–è¯‘å› å­è®¡ç®—æ–¹å¼ï¼Œè¿”å›çš„ç»“æœéœ€ä¸ºDataFrameï¼Œåˆ—åï¼ˆcolumnsï¼‰ä¸ºæ—¶é—´ï¼Œè¡Œåï¼ˆindexï¼‰ä¸ºè‚¡ç¥¨ä»£ç   
    def factor_gen(self, start_date, end_date,stocks=None):
        stocks=stocks or self.get_stocks()   #æ­¤è¡Œä»£ç ç”¨äºæ›´æ–°å› å­æ—¶è·å–è‚¡ç¥¨ä»£ç ï¼Œè¯·å‹¿æ›´æ”¹
        factor_df = get_sfactor_data(start_date, end_date, stocks, ['trix'])  #æ ·ä¾‹æ•°æ®,å¯è·å–è¡Œæƒ…æ•°æ®åŠè´¢åŠ¡æ•°æ®æ„å»ºæ–°çš„å› å­
        return factor_df['trix']

#==========================================å› å­æ£€æµ‹å‰è¿›è¡Œæ•°æ®å‡†å¤‡åŠæ•°æ®å¤„ç†========================================================
    def calc(self):
        log.info("å›æµ‹åŒºé—´ï¼š %s / %s" % (self.start_date, self.end_date))
        log.info("å¼€å§‹æ—¶é—´ï¼š %s " % time.strftime("%H:%M:%S"))
        if self.frequency=='daily':
            period=self.periods
        elif self.frequency=='weekly':
            period=self.periods*5
        elif self.frequency=='monthly':
            period=self.periods*21

        # è·å–è‚¡ç¥¨æ± 
        self.get_stocks()
        # ä»·æ ¼æ•°æ®price_df
        log.info("æ­£åœ¨è·å–è¡Œæƒ…æ•°æ®......ï¼š %s " % time.strftime("%H:%M:%S"))
        price_df = get_price(self.stocks, self.start_date, self.end_date, str(period) + 'd', ['close'], bar_count=0, skip_paused=False, fq='pre', is_panel=1)['close']
        days = get_trade_days(self.start_date, self.end_date)
        day_index=pd.Index((days[min(i+period-1, len(days)-1)] for i in range(0, len(days), period)))
        price_df=price_df.loc[day_index,:]
        log.info("è¡Œæƒ…æ•°æ®æå–å®Œæˆï¼š %s " % time.strftime("%H:%M:%S"))

#==========================================è·å–è¡Œä¸šåˆ†ç±»==============================================================  
        # è·å–è¡Œä¸šåˆ†ç±»å“‘å˜é‡,è¡Œä¸šåˆ†ç±»æ•°æ®groupby
        log.info("æ­£åœ¨è·å–è¡Œä¸šåˆ†ç±»æ•°æ®......ï¼š %s " % time.strftime("%H:%M:%S"))
        industry_data, ind_dict = get_sfactor_industry(self.start_date, self.end_date, self.stocks, industry='s_industryid1')
        log.info("è¡Œä¸šåˆ†ç±»æ•°æ®æå–å®Œæ¯•ï¼š %s " % time.strftime("%H:%M:%S"))

# ==========================================æ ¹æ®å‚æ•°é€‰æ‹©ç”Ÿæˆå› å­==========================================================
        # è·å–å› å­æ•°æ®
        log.info("æ­£åœ¨è·å–å› å­æ•°æ®......ï¼š %s " % time.strftime("%H:%M:%S"))
        factor_df = get_sfactor_data(self.start_date, self.end_date, self.stocks, self.factor_input)
        log.info("è·å–å› å­æ•°æ®å®Œæ¯•ï¼š %s å› å­åç§°ï¼š %s" % (time.strftime("%H:%M:%S"), self.factor_input))

#==========================================å› å­åˆæˆ=========================================================   
        factors = factor_df[self.factor_input[0]].copy()
        factors.iloc[:, :] = 0
        for ia in self.factor_input:
            factors = factors + self.factor_set[ia]['direct'] * self.factor_set[ia]['weight'] * factor_df[ia]
        log.info("å› å­æ•°æ®åˆæˆå®Œæˆï¼š %s " % time.strftime("%H:%M:%S"))

#==========================================æ ¹æ®ç”¨æˆ·è‡ªå®šä¹‰å› å­ç®—æ³•ç”Ÿæˆå› å­=========================================================   

#         factors = self.factor_gen(self.start_date, self.end_date,self.stocks)
#          log.info("è‡ªå®šä¹‰å› å­æ•°æ®è®¡ç®—å®Œæˆï¼š %s " % time.strftime("%H:%M:%S"))

#==========================================ä½¿ç”¨alphalensè¿›è¡Œå› å­æ•°æ®é¢„å¤„ç†=========================================================
        log.info("æ­£åœ¨ä½¿ç”¨alphalensè¿›è¡Œæ•°æ®å¤„ç†......ï¼š %s " % time.strftime("%H:%M:%S"))
        factor_data=get_clean_factor_data(factors, price_df, self.quantiles, ind_dict,[self.periods])
        factor_data.rename(columns={'1D':str(period) + 'D'},inplace=True)

        log.info("å› å­æ•°æ®å¤„ç†å®Œæˆï¼š %s " % time.strftime("%H:%M:%S"))
        return factor_data

#==========================================è·å–è‚¡ç¥¨æ± ä¸­è‚¡ç¥¨ä»£ç ========================================================
    def get_stocks(self):
        if self.stockpool=='stock':
            self.stocks=list(get_all_securities('stock',self.start_date).index)
        else:
            self.stocks = get_index_stocks(self.stockpool, self.start_date)

#==========================================ä½¿ç”¨alphalensè¿›è¡Œå› å­æ£€æµ‹=========================================================
try:
    __IPYTHON__
    alphalens.tears.create_full_tear_sheet(FactorAnalyse().calc(),
                                           long_short=True,
                                           group_neutral=True,
                                           by_group=True)
    log.info("å› å­æ£€æµ‹å®Œæˆï¼š %s " % time.strftime("%H:%M:%S"))
except NameError:
    pass
â€‹

### ç­–ç•¥å›æµ‹ - research_strategy

- è°ƒç”¨æ–¹æ³•

```
research_strategy(
    source_code, 
    start_date=None, 
    end_date=None, 
    capital_base=100000, 
    frequency='DAILY', 
    stock_market='STOCK', 
    benchmark=None
)
â€‹
```

- å‚æ•°è§£é‡Šï¼š

source_codeï¼šç­–ç•¥ä»£ç ï¼Œå¯ä»ç­–ç•¥ç ”ç©¶æ¨¡å—ä¸­ç›´æ¥å¤åˆ¶ï¼Œä»£ç ç½®äº"""..."""ä¸­
start_dateï¼šå›æµ‹å¼€å§‹æ—¶é—´ï¼Œå¦‚'20210601'
end_dateï¼šå›æµ‹ç»“æŸæ—¶é—´ï¼Œå¦‚'20210601'
capital_base: floatï¼Œåˆå§‹èµ„é‡‘é‡
frequency: å›æµ‹é¢‘ç‡ï¼Œ'DAILY'æˆ–'MINUTE'
stock_market: ç­–ç•¥ç±»å‹ï¼Œé»˜è®¤'STOCK'
benchmark: åŸºå‡†æŒ‡æ•°

- ç¤ºä¾‹

```
source_code=r"""
# è‚¡ç¥¨ç­–ç•¥æ¨¡ç‰ˆ
def init(context):
    pass
  
## å¼€ç›˜æ—¶è¿è¡Œå‡½æ•°
def handle_bar(context, bar_dict):
    order('000001.SZ', 100)
"""

btest = research_strategy(source_code, start_date='20210601', end_date='20210815', capital_base=float(10000000), frequency='DAILY', stock_market='STOCK', benchmark=None)
â€‹
```

### æ¨¡æ‹Ÿä»¿çœŸ - research_trade

- è°ƒç”¨æ–¹æ³•

```
research_trade(
    name, 
    source_code, 
    capital_base=100000, 
    frequency='DAILY', 
    stock_market='STOCK', 
    benchmark=None, 
    trade_api=None, 
    signal_mode=True, 
    dry_run=False
)
â€‹
```

- å‚æ•°è§£é‡Šï¼š

nameï¼šstrï¼Œç­–ç•¥åç§°ï¼Œä¼šåœ¨./persist/ä¸‹ç”Ÿæˆä¸€ä¸ªåŒåç›®å½•ï¼Œç”¨äºå­˜æ”¾æŒä¹…åŒ–çš„ç­–ç•¥ä¿¡æ¯
source_codeï¼šstrï¼Œç­–ç•¥ä»£ç ï¼Œå¯ä»ç­–ç•¥ç ”ç©¶æ¨¡å—ä¸­ç›´æ¥å¤åˆ¶ï¼Œä»£ç ç½®äº"""..."""ä¸­
capital_baseï¼š floatï¼Œåˆå§‹èµ„é‡‘é‡

å¦‚æœæ¥å…¥äº† TradeAPIå¯¹è±¡ï¼Œä¸” signal_mode=Falseï¼Œé‚£ä¹ˆæ­¤å‚æ•°æ— æ„ä¹‰

frequency: strï¼Œç­–ç•¥é¢‘ç‡ï¼Œ'DAILY'æˆ– 'MINUTE'
stock_market: strï¼Œç­–ç•¥ç±»å‹ï¼Œé»˜è®¤ 'STOCK'
benchmark: strï¼ŒåŸºå‡†æŒ‡æ•°
trade_api: TradeAPIå¯¹è±¡ï¼Œç»‘å®šéœ€è¦ä»¿çœŸäº¤æ˜“çš„èµ„é‡‘è´¦å·
signal_mode: boolï¼Œï¼ˆæ–°å¢ï¼‰é»˜è®¤ä¸º True

signal_mode=Trueï¼Œæ­¤æ—¶ç­–ç•¥å®é™…ä¸Šè¿è¡Œçš„æ—¶åˆå§‹èµ„é‡‘ä¸º capital_baseçš„æ¨¡æ‹Ÿäº¤æ˜“ï¼Œå§”æ‰˜æ’®åˆç”±ç­–ç•¥æ¡†æ¶å¤„ç†ï¼Œcontextã€get_ordersç­‰æ–¹æ³•è¿”å›çš„ç»“æœå‡ä¸ºæ¨¡æ‹Ÿäº¤æ˜“ä¸­è®¡ç®—çš„æ•°æ®ï¼Œä¸èµ„é‡‘è´¦å·çš„æ•°æ®æ— å…³ï¼›ç­–ç•¥åœ¨æ¨¡æ‹Ÿäº¤æ˜“æ’®åˆæˆäº¤åï¼Œæ‰ä¼šé€šè¿‡ trade_apiä¸‹å•è‡³æŸœå°ï¼ˆæ‰€ä»¥å½“å‰æ¨¡å¼ä¸‹æ— æ³•è¿›è¡Œæ’¤å•ï¼‰
signal_mode=Falseï¼Œæ­¤æ—¶ä¸ºä»¿çœŸäº¤æ˜“æ¨¡å¼ï¼Œæ­¤æ—¶ç­–ç•¥ä¸­ contextã€get_ordersç­‰æ–¹æ³•è¿”å›çš„ç»“æœå‡ä¸ºä»æŸœå°æŸ¥è¯¢ï¼Œç­–ç•¥ä¸‹å•ä¹Ÿä¼šç›´æ¥ä¸‹è‡³æŸœå°

dry_run: boolï¼Œè¯•è¿è¡Œï¼Œç«‹å³è¿”å›ï¼Œé»˜è®¤ä¸º False
recover_dt: boolæˆ– strï¼Œï¼ˆæ–°å¢ï¼‰æ˜¯å¦æ–­ç‚¹è¿è¡Œï¼Œé»˜è®¤ä¸º False

recover_dt=Falseï¼Œä»å½“å‰æ—¶ç‚¹å¼€å§‹æ‰§è¡Œï¼Œä¸ä»æ–­å®šè¿è¡Œ
recover_dt=Trueï¼Œä»ä¸Šæ¬¡ç­–ç•¥ç»“æŸæ—¶ç‚¹å¼€å§‹è¿è¡Œ
recover_dt='today'ï¼Œä»å½“æ—¥å¼€å§‹è¿è¡Œï¼Œæ­¤æ¨¡å¼ä¸‹åªä¼šè¡¥æ‰§è¡Œ before_tradingä¸ open_auctionï¼Œhandle_barä¾æ—§ä»å½“å‰æ—¶é—´å¼€å§‹æ‰§è¡Œ
recover_dt='yyyyMMdd HH:mm'ï¼Œä»æŒ‡å®šæ—¶é—´å¼€å§‹è¿è¡Œ

- æ³¨æ„äº‹é¡¹ï¼š

ä½¿ç”¨æ–¹æ³•å¦‚ä¸Šï¼Œtrade_apiå¯æ”¯æŒä¼ å…¥ rechase_api
ç­–ç•¥æ•°æ®æŒä¹…åŒ–ä¼šåœ¨ç­–ç•¥è¿è¡Œè¿‡ç¨‹ä¸­åŒæ­¥è¿›è¡Œï¼Œä»¥é˜²æ­¢ç­–ç•¥ä¸­æ–­ï¼Œæ•°æ®ä¸¢å¤±ã€‚å­˜å‚¨æ•°æ®åŒ…å«è´¦æˆ·æ•°æ®ã€å…¨å±€å˜é‡ç­‰ï¼Œè·¯å¾„ä½äºç ”ç©¶å¹³å°persistç›®å½•ä¸‹ï¼Œä»¥ç­–ç•¥åç§°ä¸ºå­˜å‚¨ï¼Œå½“æ­¤ç›®å½•ä¸‹å­˜åœ¨ç­–ç•¥åç›¸åŒçš„è·¯å¾„æ—¶ï¼Œåˆ™ä¸å†æ‰§è¡Œ initï¼Œæ•…å¯åŠ¨æ–°ç­–ç•¥å‰ï¼Œè¯·ç¡®è®¤æ²¡æœ‰persistä¸‹æ²¡æœ‰åŒåæ–‡ä»¶å¤¹
ç­–ç•¥è¯·åœ¨9:00å‰å¼€å¯è¿è¡Œï¼Œä¸­é—´ä¸­æ–­åˆ™ä¼šè·³è¿‡è¿è¡Œæ—¶é—´ï¼Œå¦‚éœ€è¦è¡¥å……æ‰§è¡Œï¼Œå¯é€šè¿‡è®¾ç½® recover_dtå‚æ•°
åˆå§‹åŒ– TradeAPIæ—¶éœ€è¦æŒ‡å®šä¸‹å•ç­–ç•¥ order_policyï¼ŒMarketPolicyä¸ºæœ€æ–°ä»·ä¸‹å•ï¼›LimitPolicyä¸ºé™ä»·ä¸‹å•ã€‚å¦‚æœªæŒ‡å®šï¼Œç”±äºç­–ç•¥ä¸‹å•æ—¶ä½¿ç”¨å‡ä»·ï¼Œå¯èƒ½å­˜åœ¨å¤šä½å°æ•°ï¼Œæœ€ç»ˆå®ç›˜è´¦æˆ·ä¸‹å•çš„æ—¶å€™å¯èƒ½äº§ç”ŸåºŸå•ã€‚
è‹¥æƒ³åœ¨ç­–ç•¥ä»£ç  source_code ä¸­ä½¿ç”¨æ™ºèƒ½ä¸‹å•ç­–ç•¥ï¼Œä¸æ”¯æŒç›´æ¥è°ƒç”¨ trade_api.orderï¼Œå¯ä»¥ä½¿ç”¨ style å…¥å‚å®ç°ï¼šorder('002109.SZ', 100, style=CustomOrder(price=0, pricetype=21))ã€‚
signal_mode=Trueæ—¶ï¼Œå¦‚æƒ³åœ¨contextä¸­è·å¾—ä»¿çœŸè´¦å·çš„æŒä»“ã€èµ„é‡‘ç­‰æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥å‡½æ•° sync_trade_api()

- ç¤ºä¾‹ï¼š

```
from tick_trade_api import TradeAPI
#åˆå§‹åŒ–TradeAPIæ—¶éœ€è¦æŒ‡å®šä¸‹å•ç­–ç•¥ï¼ŒMarketPolicyä¸ºæœ€æ–°ä»·ä¸‹å•ï¼›LimitPolicyä¸ºé™ä»·ä¸‹å•
trade_api=TradeAPI('69271711', order_policy=LimitPolicy)

source_code="""
# è‚¡ç¥¨ç­–ç•¥æ¨¡ç‰ˆ
def init(context):
    pass

# ç›˜å‰æ‰§è¡Œ
def before_trading(context):
    pass

# å¼€ç›˜æ—¶è¿è¡Œå‡½æ•°
def handle_bar(context, bar_dict):
    order_id = order('000001.SZ', 100)
    print(get_orders())
    try:
        cancel_order(order_id)
    except:
        print('æ’¤å•å¤±è´¥')
    print(get_open_orders())
    print(get_tradelogs())
    print(context.portfolio.stock_account)
    print(context.portfolio.positions)
"""
rtrade = research_trade(
    'ç ”ç©¶ç¯å¢ƒç­–ç•¥',
     source_code,
     frequency='MINUTE', 
     trade_api=trade_api,
     signal_mode=False,
     recover_dt='today'
)
â€‹
```

## ç ”ç©¶ç¯å¢ƒçš„ä½¿ç”¨

### å‚¨å­˜èµ„æº

- ç ”ç©¶ç¯å¢ƒé»˜è®¤æä¾›2Gå†…å­˜ä¸1Gç¡¬ç›˜ï¼Œå¹¶æ”¯æŒæ‰©å±•ï¼Œå¦‚æœ‰æ‰©å±•éœ€æ±‚ï¼Œå¯ä¸æˆ‘ä»¬çš„å·¥ä½œäººå‘˜å–å¾—è”ç³»

### å¤–éƒ¨æ•°æ®

#### è®¿é—®å¤–ç½‘

- SuperMindæ”¯æŒé€šè¿‡tushareã€akshareç­‰ç¬¬ä¸‰æ–¹æ•°æ®æ¥å£è·å–æ•°æ®ï¼Œå…¶ä»–å¤–ç½‘åœ°å€è®¿é—®å—é™ã€‚

#### æ–‡ä»¶ä¸Šä¼ 

- å¯ä»¥é€šè¿‡å·¦ä¸Šè§’ä¸Šä¼ æŒ‰é’®å°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°ç ”ç©¶ç¯å¢ƒä¸­

### ç ”ç©¶ç¯å¢ƒå…³é—­è§„åˆ™

- æ™šä¸Š23ç‚¹è‡³æ¬¡æ—¥6ç‚¹ï¼Œ1å°æ—¶ä¸æ´»åŠ¨ä¼šè¢«å…³é—­ã€‚ä¸æ´»åŠ¨æ˜¯è‡³æµè§ˆå™¨ã€å®¢æˆ·ç«¯å…³é—­ï¼Œè®¡ç®—å™¨ä¼‘çœ ç­‰æƒ…å†µ

- ç ”ç©¶ç¯å¢ƒæœ€å¤§ç”Ÿå­˜æ—¶é—´ä¸º24å°æ—¶

- å¯¹äºSuperMindæ­£å¼ä»˜è´¹ç”¨æˆ·ï¼Œå¯ä»¥ç”³è¯·å»¶é•¿ç ”ç©¶ç¯å¢ƒçš„ç”Ÿå­˜æ—¶é—´ï¼Œå…·ä½“è¯·å’¨è¯¢å·¥ä½œäººå‘˜

### ç ”ç©¶ç¯å¢ƒå¦‚ä½•å…³é—­ï¼Ÿ

python3.5 ç¯å¢ƒå…³é—­ç ”ç©¶ç¯å¢ƒï¼š

python3.8 ç¯å¢ƒå…³é—­ç ”ç©¶ç¯å¢ƒï¼š

å…³é—­ä¹‹åï¼Œé‡æ–°è¿›å…¥ç ”ç©¶ç¯å¢ƒå°±å¯ä»¥å¯åŠ¨ç ”ç©¶ç¯å¢ƒã€‚

### å®šæ—¶ä»»åŠ¡Crontab

å®šæ—¶ä»»åŠ¡æ˜¯åœ¨ç ”ç©¶ç¯å¢ƒå¼€å¯çš„çŠ¶æ€ä¸‹ï¼Œå¯ç”±åå°å®šæ—¶è°ƒèµ·è„šæœ¬ï¼Œæ‰§è¡Œä»»åŠ¡ã€‚

æ‚¨çš„æ–‡ä»¶åç§° (every 1minutes from 9.25am to 2.50pm).ipynb

æ‚¨çš„æ–‡ä»¶åç§° (every 1minutes from 9.25am to 2.50pm).py

ç”¨æ³•ï¼š

- å¼€é€šæƒé™åJupyterçš„homeé¡µé¢ä¼šæœ‰ä¸ªcrontabsæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„è„šæœ¬ä¼šç”±åå°è‡ªåŠ¨è°ƒèµ·

- é€šè¿‡å‘½åæ¥è®¾å®šå®šæ—¶ä»»åŠ¡æ‰§è¡Œçš„æ–¹å¼ï¼Œå¦‚

schedule (every 1minutes from 9.25am to 2.50pm).ipynb

æ‹¬å·å†…ä¸ºå…·ä½“å‚æ•°ï¼Œå³9:25åˆ°2ï¼š50æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œå‰åæ—¶é—´ä¸€è‡´åˆ™åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ³¨æ„am,pm
é¦–æ¬¡æ·»åŠ ä¹‹åéœ€è¦é‡å¯ä¸‹ç ”ç©¶ç¯å¢ƒ ç‚¹æ­¤å…³é—­ å å†å¼€å¯ï¼šhttps://quant.10jqka.com.cn/notebook/hub/home

- å®šæ—¶ä»»åŠ¡ä¸æ”¯æŒå¹¶è¡Œï¼Œä¼šæŒ‰æ—¶é—´é¡ºåºæ’é˜Ÿæ‰§è¡Œï¼Œå¦‚æœè¶…è¿‡è®¾å®šæ—¶é—´åˆ™ä»Šæ—¥ä¸ä¼šæ‰§è¡Œ

- crontabs.logä¸­ä¼šæ˜¾ç¤ºå¢åŠ ä»»åŠ¡ã€æ‰§è¡Œä»»åŠ¡çš„æ—¥å¿—ï¼Œï¼ˆnotebookä¸­å¹¶ä¸ä¼šæ‰“å°å‡ºæ—¥å¿—ï¼‰ã€‚

- æ”¯æŒè®¾ç½®è¶…æ—¶æ—¶é—´å¦‚ä¸‹(pyæ–‡ä»¶ä¹Ÿå¯ä»¥)

helloworld (every 5minutes from 9.00am to 7.10pm) with {timeout:10}.ipynb
# æˆ–è€…
helloworld (every 5minutes from 9.00am to 7.10pm) with {timeout:10}.py
â€‹

- å¦‚æœæœ‰2ä¸ªæ–‡ä»¶å‘½åå¦‚ä½•å‘½åï¼Ÿ

Crontab æ–‡ä»¶çš„å‘½åæ˜¯å¯ä»¥å˜æ›´çš„ æ‹¬å·é‡Œé¢æŒ‰ç…§è¦æ±‚å³å¯

2ä¸ªçš„è¯ å¯ä»¥å«ä¸ä¸€æ ·çš„åå­—ï¼Œé»˜è®¤ä¼šè¿›è¡Œä¸²è¡Œæ‰§è¡Œ æŒ‰ç…§åå­—è¿›è¡Œæ’åºæ‰§è¡Œã€‚

ç¬¬ä¸€ä¸ªå«ï¼š
AAA (every 1minutes from 9.25am to 2.50pm).ipynb

ç¬¬äºŒä¸ªå«ï¼š
BBB (every 1minutes from 9.25am to 2.50pm).ipynb

- å®šæ—¶ä»»åŠ¡åªæœ‰åœ¨ç ”ç©¶å¹³å°ä¿æŒå¼€å¯çš„çŠ¶æ€ä¸‹æ‰ä¼šæ‰§è¡Œï¼Œè¯·å…³æ³¨ç ”ç©¶å¹³å°çŠ¶æ€

å¼€å¯å³èƒ½çœ‹åˆ°ç•Œé¢ã€‚

å¦‚éœ€å¤šä¸ªå®šæ—¶ä»»åŠ¡å¹¶è¡Œï¼Œè¯·è”ç³»å·¥ä½œäººå‘˜ï¼Œå¹¶æä¾›useridï¼Œè·å–æ–¹æ³•è§æ€ä¹ˆè·å–userid

### å®ç›˜å¯ä»¥äº‘ç«¯æ‰˜ç®¡ä¹ˆï¼Ÿ

æˆ‘ä»¬çš„ç ”ç©¶ç¯å¢ƒæ˜¯äº‘ç«¯çš„ï¼Œä½†æ˜¯ä¹Ÿå¿…é¡»å¼€ç€Supermindå®¢æˆ·ç«¯ã€‚å› ä¸ºä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬æ˜¯ä¸èƒ½åœ¨äº‘ç«¯è®°å½•æ‚¨çš„èµ„é‡‘è´¦å·çš„ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡æ‚¨çš„å®¢æˆ·ç«¯æ¥è¯»å–èµ„é‡‘è´¦å·ï¼Œæ‰€ä»¥å¿…é¡»å¼€ç€å®¢æˆ·ç«¯ã€‚è¯·è°…è§£ã€‚

#### é‚£æˆ‘æ²¡æœ‰æ¡ä»¶ä¸€ç›´å¼€ç€ç”µè„‘æ€ä¹ˆåŠï¼Ÿ

å»ºè®®æ‚¨è´­ä¹°ä¸€ä¸ªæœ€ä¾¿å®œçš„windows äº‘ä¸»æœº ï¼Œä¸€å¹´å¯èƒ½åªéœ€è¦å‡ ç™¾ï¼Œæ¯”å¦‚ä¸€äº›ç”¨æˆ·ä¼šç”¨å¤©ç¿¼äº‘ã€‚

è¿™æ ·çš„è¯å³ä½¿æ²¡æœ‰æ¡ä»¶ä¸€ç›´å¼€ç€ç”µè„‘ï¼Œä¹Ÿå¯ä»¥ä¸€ç›´å¼€ç€Supermindå®¢æˆ·ç«¯

### å¯ä»¥å®ç°å®Œå…¨æ— äººå€¼å®ˆä¹ˆï¼Ÿæˆ‘å¯ä»¥ä¸€ç›´ä¸ç”¨ç®¡è¿è¡Œçš„ç¨‹åºä¹ˆï¼Ÿ

å¯ä»¥å®ç°7å¤©å†…çš„æ— äººå€¼å®ˆï¼Œ

æ‚¨éœ€è¦ç¡®ä¿ä»¥ä¸‹3ç‚¹ï¼š

1ã€å®¢æˆ·ç«¯ä¸€ç›´å¼€å¯ã€‚

2ã€è®¾å®šå¥½Crontabå®šæ—¶ä»»åŠ¡ï¼Œèƒ½åœ¨ç›˜å‰è‡ªåŠ¨å¼€å¯è„šæœ¬ï¼ˆå› ä¸ºå¦‚æœç”¨æˆ‘ä»¬çš„å’Œå›æµ‹æ¡†æ¶å¼€å‘çš„ç­–ç•¥ï¼Œç›˜åä¼šå…³é—­ã€‚ä½†å¦‚æœè‡ªå·±å¼€å‘çš„ä»£ç  å¦‚æœèƒ½ç¡®ä¿ä¸€ç›´è¿è¡Œçš„è¯ å°±ä¸éœ€è¦å¼€å¯crontabï¼‰ï¼Œcrontabç›¸å…³çš„çŸ¥è¯†è¯·çœ‹ï¼šå®šæ—¶ä»»åŠ¡

3ã€ç”³è¯·å¥½7å¤©ä¸é‡å¯æœåŠ¡å™¨ï¼Œä»˜è´¹è´­ä¹°ä¹‹åï¼Œæ‚¨å¯ä»¥å‘æ‚¨å¯¹æ¥çš„ç»ç† æˆ–è€… supermindç¤¾ç¾¤ç¾¤ä¸»ç”³è¯· 7å¤©æœåŠ¡å™¨ä¸é‡å¯ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯24å°æ—¶ä¼šé‡å¯ï¼Œæ›´å¤šå…³äºæœåŠ¡å™¨é‡å¯è§„åˆ™çš„æè¿°è¯·çœ‹ï¼šç ”ç©¶ç¯å¢ƒå­˜æ´»æ—¶é—´

### æˆ‘å¯ä»¥ç”³è¯·è¶…è¿‡7å¤©ä¹ˆï¼Ÿ

ä¸è¡Œï¼Œå› ä¸ºé‡åŒ–äº¤æ˜“åŠå…¶å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å»ºè®®è‡³å°‘7å¤©è¦è¿›æœåŠ¡å™¨çœ‹ä¸‹ä»£ç è¿è¡Œæƒ…å†µã€‚ä»¥ä¾¿èƒ½åŠæ—¶å‘ç°é—®é¢˜ã€‚

å¦å¤–ï¼šæˆ‘ä»¬æ­£åœ¨ç ”å‘æ›´æ–¹ä¾¿æ˜“ç”¨çš„å®ç›˜ç®¡ç†å·¥å…·ï¼Œå±Šæ—¶å°±å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„å®ç°æ— äººå€¼å®ˆï¼Œå°½æƒ…æœŸå¾…ï¼

### ä¸ºä»€ä¹ˆç ”ç©¶ç¯å¢ƒæŠ¥â€œæœåŠ¡å™¨ä¸å¯ç”¨æˆ–æ— æ³•è®¿é—®â€?

å¤§éƒ¨åˆ†é€šè¿‡äº‘ä¸»æœºæ¥è¿è¡Œå®¢æˆ·ç«¯å‡ºç°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œ

ç¡®ä¿äº‘ä¸»æœºçš„é˜²ç«å¢™å…³é—­ï¼Œå¦‚æœè¿˜æ˜¯æœ‰è¿™ä¸ªé—®é¢˜ï¼Œ

é‚£ä¹ˆè¯·å¼€å¯ç»å…¸æ¨¡å¼ï¼š

### ä¸ºä»€ä¹ˆç ”ç©¶ç¯å¢ƒå¡ä½ä¸æ–­åˆ·æ–°ï¼Ÿ

å½“ç ”ç©¶ç¯å¢ƒå‡ºç°ä¸æ–­åˆ·æ–°çš„æƒ…å†µï¼Œè¯´æ˜å†…å­˜çˆ†æ»¡ã€‚ç‚¹å‡»æ­¤å¤„è¿›è¡Œå…³é—­ç ”ç©¶ç¯å¢ƒï¼Œå¹¶é‡æ–°å¼€å¯ï¼š

ç‚¹æ­¤å…³é—­ç ”ç©¶ç¯å¢ƒï¼ˆå¦‚æœç ”ç©¶ç¯å¢ƒæ²¡æœ‰å¼€å¯ æ˜¯æ— æ³•è®¿é—®çš„ï¼‰

### ç ”ç©¶ç¯å¢ƒå¯ä»¥ç½‘é¡µè¿è¡Œï¼Ÿ

æ˜¯çš„ï¼Œ

å¦‚æœä¸å®ç›˜çš„æƒ…å†µä¸‹ å¯ä»¥ç”¨ç½‘é¡µè¿è¡Œï¼šhttp://quant.10jqka.com.cn/platform/html/study-research.html

å¦‚æœéœ€è¦ä»¿çœŸæˆ–è€…å®ç›˜éœ€è¦ä¸‹è½½å®¢æˆ·ç«¯è¿›è¡Œï¼š

æ”¯æŒä»¿çœŸæ¨¡æ‹Ÿå®ç›˜çš„å®¢æˆ·ç«¯ï¼šhttps://download.10jqka.com.cn/index/download/id/709

ï¼ˆä»¿çœŸå®ç›˜å’ŒçœŸå®å®ç›˜çš„å·®å¼‚ åœ¨äºç”¨çš„èµ„é‡‘è´¦å·æ˜¯æ¨¡æ‹Ÿçš„è¿˜æ˜¯çœŸå®çš„ï¼Œå…¶ä»–æµç¨‹éƒ½ä¸€è‡´ï¼Œå»ºè®®çœŸå®å®ç›˜ä¹‹å‰ç”¨ä»¿çœŸçš„æµ‹è¯•å¥½ç­–ç•¥ï¼‰

æ”¯æŒå®ç›˜çš„å®¢æˆ·ç«¯ï¼šéœ€è¦ä»˜è´¹ä¹‹åæä¾›ã€‚

### ç ”ç©¶ç¯å¢ƒçš„å¿«æ·é”®æœ‰å“ªäº›ï¼Ÿ

http://quant.10jqka.com.cn/view/article/2998

### ä¸ºä»€ä¹ˆä¼šå†…å­˜çˆ†æ»¡ï¼Ÿ

å¯èƒ½å› ä¸ºæ‚¨å¼€å¯äº†è¿‡å¤šçš„æ–‡æ¡£ï¼Œå»ºè®®ä¸è¦å¼€å¯å¾ˆå¤šæ–‡æ¡£ï¼Œæ–‡æ¡£å¾ˆæ¶ˆè€—å†…å­˜ã€‚

å¦‚ä½•å…³é—­ï¼Ÿ

æ³¨æ„ä»…å…³é—­æ‰“å¼€é¡µé¢ä¸ä¼šé‡Šæ”¾å†…å­˜ï¼Œå…³é—­å†…æ ¸æ‰ä¼šé‡Šæ”¾å†…å­˜ã€‚

å¦å¤–å¦‚æœä½ å¼€å¯äº†è¾ƒå¤šçš„ç­–ç•¥ ä¹Ÿä¼šæ¶ˆè€—å†…å­˜ã€‚åŸºæœ¬ä¸Šä¸€ä¸ªç­–ç•¥ä¼šæ¶ˆè€—0.5G åˆ°1Gä¹‹é—´çš„å†…å­˜ã€‚å¦‚æœæœ‰å¾ˆå¤šçš„æ•°æ®è¯»å–å’Œå¤„ç†é€»è¾‘å¯èƒ½ä¼šæ›´å¤§ã€‚

### äº‘ç«¯2Gå†…å­˜ï¼Œä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ

å…³é—­ä¸éœ€è¦çš„è¿›ç¨‹

å‡çº§é…ç½®
å¯ä»¥è”ç³»å¾®ä¿¡ç¾¤ä¸» è¿›è¡Œè”ç³»è´­ä¹°ï¼šæ‰“å¼€è®ºå›é¦–é¡µ æ‰«æå³ä¸Šè§’äºŒç»´ç  è¿›ç¾¤æ‰¾åˆ°ç¾¤ä¸»ï¼š[http://quant.10jqka.com.cn/view/community]

### ä¸ºä»€ä¹ˆæ‰“å¼€æ–‡ä»¶ä¼šæŠ¥é”™

å‡ºäºæœåŠ¡å™¨å®‰å…¨æ€§è€ƒè™‘ï¼Œéƒ¨åˆ†ç³»ç»Ÿå‡½æ•°ä¸èƒ½ä½¿ç”¨ï¼Œé‡åŒ–å¹³å°æä¾›äº†æ›¿ä»£å‡½æ•°ï¼Œå‚ç…§æ–‡æ¡£

### ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨os,sysç­‰åŒ…

å‡ºäºæœåŠ¡å™¨å®‰å…¨æ€§è€ƒè™‘ï¼Œæ¶‰åŠç³»ç»Ÿçº§æ“ä½œçš„åŒ…éƒ½è¢«ç¦ç”¨

### æ€ä¹ˆè·å–userid

æ–¹æ³•ä¸€
å…ˆåœ¨ç½‘é¡µä¸Šç™»å½•

æ–¹æ³•äºŒ
ç ”ç©¶ç¯å¢ƒ3.8

ç ”ç©¶ç¯å¢ƒ3.5

ä¸Šä¸€èŠ‚ä¸‹ä¸€èŠ‚ç¼–ç»„ 4
å›åˆ°

é¡¶éƒ¨